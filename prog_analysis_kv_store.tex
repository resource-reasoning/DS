\begin{figure}[!t]
\begin{centertikz}%
%Location x
\node(locx) {$\key \mapsto$};
\draw pic at ([xshift=\tikzkvspace]locx.east) {vlist={versionx}{%
    /0/\txid_0/\Set{\txid_1} \cup \T_0
    , /1/\txid_1/\Set{\txid_2} \cup \T_1
}};
\path(versionx.east)+(0.3,0) node (dots) {$\cdots$};
\draw pic at ([xshift=0.2]dots.east) {vlist= {versionxlast}{
	/n-1/\txid_{n-1}/\Set{\txid_{n}} \cup \T_{n-1}
	, /n/\txid_{n}/\T_{n}
}};
\coordinate  (A) at ([xshift=30,yshift=-14] versionx.north west);
\coordinate  (B) at ([xshift=17,yshift=-9] A.center);
\coordinate  (C) at ([xshift=24,yshift=10] B.center);
\coordinate  (D) at ([xshift=14,yshift=0] C.center);
\coordinate  (E) at ([xshift=19,yshift=-9] D.center);
\coordinate  (F) at ([xshift=73,yshift=9] E.center);
\coordinate  (G) at ([xshift=25,yshift=-9] F.center);
\coordinate  (H) at ([xshift=25,yshift=9] G.center);
\coordinate  (I) at ([xshift=14,yshift=0] H.center);
\coordinate  (J) at ([xshift=2,yshift=-15] I.center);

\path[->,dashed,thick] ([xshift=0,yshift=6]A) edge[bend left=30] ([xshift=-3,yshift=4]B)
([xshift=3,yshift=4]B) edge[bend left=30] ([xshift=2,yshift=6]C)
 ([xshift=0,yshift=6]D) edge[bend left=30] ([xshift=-3,yshift=4]E)
 ([xshift=0,yshift=6]F) edge[bend left=30] ([xshift=-9,yshift=3]G)
([xshift=3,yshift=4]G) edge[bend left=30] ([xshift=2,yshift=6]H)
([xshift=0,yshift=6]I) edge[bend left=60] ([xshift=-2,yshift=5]J);
\end{centertikz}

\vspace*{-15pt}

\hrulefill 

\caption{The invariant of kv-stores in $\CMs(\PSI, \mathsf{Counter}(\key))$. 
Each $\txid_{i}$ is a $\ctrinc(\key)$ operation, and each transaction in 
$\T_i$ is a $\ctrread(\key)$ operation.} 
\label{fig:prog_analysis}
\vspace{2pt}
\end{figure}
