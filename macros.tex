%model
\newcommand{\Heap}{\texttt{Heap}}
\newcommand{\Stack}{\texttt{Stack}}
\newcommand{\Timestamp}{\texttt{TimeStamp}}
\newcommand{\Loc}{\texttt{Loc}}
\newcommand{\Val}{\texttt{Val}}
\newcommand{\Var}{\texttt{Var}}
\newcommand{\State}{\texttt{State}}
\newcommand{\Localstate}{\texttt{LocalState}}
\newcommand{\Threadstate}{\texttt{ThreadState}}
\newcommand{\Threadpool}{\texttt{ThreadPool}}
\newcommand{\threadpool}{\eta}
\newcommand{\tdpl}{\threadpool}
\newcommand{\Nat}{\mathbb{N}}
\newcommand{\Transid}{\texttt{TransID}}
\newcommand{\TransID}{\Transid}
\newcommand{\Threadid}{\texttt{ThreadID}}
\newcommand{\ThreadID}{\Threadid}
\newcommand{\threadid}{i}
\newcommand{\tid}{\threadid}
\newcommand{\nat}{n}
\newcommand{\parfun}{\rightharpoonup}
\newcommand{\heap}[1][]{h_{#1}}
\newcommand{\hp}[1][]{\heap[#1]}
\newcommand{\Timestampheap}{\texttt{TimeStampHeap}}
\newcommand{\timestampheap}[1][]{\hbar_{#1}}
\newcommand{\tshp}[1][]{\globalheap[#1]}
\newcommand{\globalheap}[1][]{\timestampheap[#1]}
\newcommand{\ghp}[1][]{\globalheap[#1]}
\newcommand{\stack}[1][]{s_{#1}}
\newcommand{\stk}[1][]{\stack[#1]}
\newcommand{\timestamp}[1][]{t_{#1}}
\newcommand{\ts}[1][]{\timestamp[#1]}
\newcommand{\loc}[1][]{l_{#1}}
\newcommand{\val}[1][]{v_{#1}}
\newcommand{\var}{\vx}
\newcommand{\logicvar}{x}
\newcommand{\lvar}{x}
\newcommand{\localstate}[1][]{\sigma_{#1}}
\newcommand{\lstt}{\localstate}
\newcommand{\Readset}{\texttt{ReadSet}}
\newcommand{\readset}{r}
\newcommand{\rs}{\readset}
\newcommand{\Writeset}{\texttt{WriteSet}}
\newcommand{\writeset}{w}
\newcommand{\ws}{\writeset}
\newcommand{\Operation}{\texttt{Operation}}
\newcommand{\operation}{o}
\newcommand{\op}{\operation}
\newcommand{\rop}{\texttt{r}}
\newcommand{\opr}{\rop}
\newcommand{\wop}{\texttt{w}}
\newcommand{\opw}{\wop}
\newcommand{\state}[1][]{\Sigma_{#1}}
\newcommand{\stt}[1][]{\state[#1]}
\newcommand{\setstt}[1][]{\mathcal{G}_{#1}}
\newcommand{\transid}{i}
\newcommand{\Translabel}{\texttt{Label}}
\newcommand{\translabel}[1][]{\alpha_{#1}}
\newcommand{\tll}[1][]{\translabel[#1]}
\newcommand{\lid}{{\texttt{id}}}
\newcommand{\lstart}[1]{\texttt{st}_{#1}}
\newcommand{\lcommit}[1]{\texttt{cm}_{#1}}
\newcommand{\lfork}[1]{\texttt{fork}(#1)}
\newcommand{\ljoin}[1]{\texttt{join}(#1)}
\newcommand{\lrestart}[1]{\texttt{rs}_{#1}}
\newcommand{\lsession}{{\texttt{so}}}
\newcommand{\Globalassertion}{\texttt{GlobalAssertion}}
\newcommand{\globalassertion}[1][]{P_{#1}}
\newcommand{\glass}[1][]{\globalassertion[#1]}
\newcommand{\gpre}[1][]{\globalassertion[#1]}
\newcommand{\gpost}[1][]{Q_{#1}}
\newcommand{\Localassertion}{\texttt{LocalAssertion}}
\newcommand{\localassertion}[1][]{p_{#1}}
\newcommand{\lcass}[1][]{\localassertion[#1]}
\newcommand{\lpre}[1][]{\localassertion[#1]}
\newcommand{\lpost}[1][]{q_{#1}}
\newcommand{\lframe}[1][]{r_{#1}}
\newcommand{\asstrue}{\texttt{True}}
\newcommand{\assfalse}{\texttt{False}}
\newcommand{\assemp}{\texttt{emp}}
\newcommand{\Action}{\texttt{Action}}
\newcommand{\action}{a}
\newcommand{\rely}[1][]{R_{#1}}
\newcommand{\guarantee}[1][]{G_{#1}}
\newcommand{\lenv}[1][]{\iota_{#1}}
\newcommand{\grte}[1][]{\guarantee[#1]}
\newcommand{\agree}[2]{\vdash #1, #2 \ \texttt{agree} \ }
\newcommand{\stable}[2]{#1 \vdash #2 \ \texttt{stable} \ }
\newcommand{\mergable}[4]{#1 \vdash  #2, #3 \ \texttt{merge} \ #4 \ }
\newcommand{\propagate}[3]{\vdash  #1, #2 \ \texttt{propagate} \ #3 \ }

%ntation
\newcommand{\localtransfer}{\mathbin{\leadsto_{l}}}
\newcommand{\multilocaltransfer}{\mathbin{\localtransfer^{*}}}
\newcommand{\threadtransfer}[1]{\mathbin{\overset{#1}{\leadsto_{t}}}}
\newcommand{\globaltransfer}[1]{\mathbin{\overset{#1}{\leadsto_{g}}}}
\newcommand{\denote}[2][]{\left\llbracket #2 \right\rrbracket_{#1}}
\newcommand{\eval}[2][]{\denote[#1]{#2}}
\newcommand{\undef}{\uparrow}
\newcommand{\isdef}{\downarrow}
\newcommand{\projection}[1]{\!\!\downharpoonright_{#1}}
\newcommand{\defeq}{\triangleq}
\newcommand{\pred}[1]{\texttt{#1}}
\newcommand{\func}[1]{{#1}}
\newcommand{\concat}{\cdot}
\newcommand{\remapsto}[2]{{[#1 \mapsto #2]}}
\DeclareMathOperator{\dom}{dom}
\newcommand{\dontcare}{-}
\newcommand{\anyval}{\_}
\newcommand{\Set}[1]{\left\{ #1 \right\}}
\newcommand{\List}[1]{\left[ #1 \right]}
\newcommand{\powerset}[1]{\mathcal{P}(#1)}
\newcommand{\Trace}{\texttt{Trace}}
\newcommand{\trace}{\theta}
\newcommand{\trc}{\trace}
\newcommand{\settrace}{\Theta}
\newcommand{\settrc}{\settrace}
\newcommand{\SimpleTrace}{\texttt{SimpleTrace}}
\newcommand{\simpletrace}{\psi}
\newcommand{\sptrc}{\simpletrace}
\newcommand{\trcto}[1][]{\overset{#1}{\to}}
\newcommand{\trcbf}[1]{<_{#1}}
\newcommand{\pointsto}[1][]{\mathbin{\overset{#1}{\mapsto}}}
\newcommand{\sep}{\mathbin{*}}
\newcommand{\efsep}{\mathbin{\hat *}}
\newcommand{\transfersto}{\mathbin{\leadsto}}
\newcommand{\notimplies}{\mathbin{\centernot\implies}}
\newcommand{\specline}[1]{ { \color{blue} \left\{ \begin{array}{@{}l@{}} #1 \end{array} \right\}} }
\newcommand{\actionline}[2]{ { \color{red} #1 : \left. \begin{array}{@{}l@{}} #2 \end{array} \right.} }
\newenvironment{syntax}[1]{%
    #1 ::= \begin{array}{l}
}{%
    \end{array}
}
\newenvironment{formulea}{%
    \left(
    \begin{array}{@{}l@{}}
}{%
    \end{array}
    \right)
}
\newenvironment{transaction}{%
    \left\lbrack%
    \begin{array}{@{}l@{}}
}{%
    \end{array}%
    \right\rbrack
}
\newcommand{\ptrans}[1]{%
\begin{transaction} #1 \end{transaction}%
}
\newcommand{\pruntrans}[2]{%
    \left\lbrack \! \left\lbrack \begin{array}{@{}l@{}} #1 \end{array} \right\rbrack\!  \right\rbrack_{#2}
}
\newcommand{\tass}[2]{#1:=#2}
\newcommand{\tmutate}[2]{[#1]:=#2}
\newcommand{\tderef}[2]{#1:=[#2]}
\newcommand{\tifs}[1]{\texttt{if} \, (#1)}
\newcommand{\tifm}{\texttt{else}}
\newcommand{\tif}[3]{\tifs{#1} \  #2 \  \tifm \  #3}
\newcommand{\tloop}[2]{\texttt{while} \, (#1) \  #2}
\newcommand{\tskip}{\texttt{skip}}
\newcommand{\tseq}{\mathbin{;}}
\newcommand{\tcmd}[1][]{\mathbb{C}_{#1}}
\newcommand{\texpr}[1][]{\mathbb{E}_{#1}}
\newcommand{\tbool}[1][]{\mathbb{B}_{#1}}
\newcommand{\prog}[1][]{\mathbb{P}_{#1}}
\newcommand{\progext}[1][]{{\prog[#1]^{\uparrow}}}
\newcommand{\clk}[1]{\P(#1)}
\newcommand{\true}{\texttt{true}}
\newcommand{\false}{\texttt{false}}
\newcommand{\boolnot}{\texttt{not}~}
\newcommand{\booland}{\mathbin{\texttt{and}}}
\newcommand{\boolor}{\mathbin{\texttt{or}}}
\newcommand{\pemp}{\emptyset}
\newcommand{\pcond}{\mathbin{+}}
\newcommand{\pchoice}{\pcond}
\newcommand{\ppar}{\mathbin{\|}}
\newcommand{\pseq}{\mathbin{;}}
\newcommand{\prept}[1]{{#1}^{*}}
\newcommand{\pfork}[2]{#1 := \texttt{fork}(#2)}
\newcommand{\pjoin}[1]{\texttt{join}(#1)}
\newcommand{\close}[1]{{#1}^{*}}
\newcommand{\triple}[3]{ \left\{ \begin{array}{@{}l@{}} #1 \end{array} \right\}%
                        \ #2 \ %
                        \left\{ \begin{array}{@{}l@{}} #3 \end{array} \right\}}
\newcommand{\judgement}[4]{#1 \vdash \begin{array}{@{}l} \triple{#2}{#3}{#4} \end{array}}
\newenvironment{parl}{%
    \begin{array}{@{}c || c@{}}
}{%
    \end{array}
}
\newenvironment{session}{%
    \begin{array}{@{}c@{}}
}{%
    \end{array}
}


% program variable
\newcommand{\vx}{\texttt{x}}
\newcommand{\vvx}{\texttt{vx}}
\newcommand{\vy}{\texttt{y}}
\newcommand{\vvy}{\texttt{vy}}
\newcommand{\vz}{\texttt{z}}

% extra
\newenvironment{rclarray}{%
    \begin{array}{r c l}
}{%
    \end{array}
}

\newenvironment{funcarray}{%
    \left\{%
    \begin{array}{l  r}
}{%
    \end{array}%
    \right.
}

