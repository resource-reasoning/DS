\begin{figure*}[!t]
\captionsetup[subfigure]{aboveskip=0pt, belowskip=5pt}

\begin{tabularx}{\textwidth}{@{} X | c @{}}
\hline\\[-5pt]
\begin{subfigure}{0.53\textwidth}
\begin{centertikz}
%Location x
\node(locx) {$\key_1 \mapsto$};
\draw pic at ([xshift=\tikzkvspace]locx.east) {vlist={versionx}{%
    /$\val_0$/${(\txid_0,\repl_0)}$/$\stub$
    , /$\val_1$/${(\txid_1,\repl_1)}$/$\stub$
    , /$\val'_1$/${(\txid_1,\repl_2)}$/$\stub$
}};

%Location y
\path (versionx.east) + (0.75,0) node (locy) {$\key_2 \mapsto$};
\draw pic at ([xshift=\tikzkvspace]locy.east) {vlist={versiony}{%
    /$\val_0$/${(\txid_0,\repl_0)}$/$\stub$
    , /$\val_2$/${(\txid_2,\repl_2)}$/$\stub$
}};

\end{centertikz}
%\caption{The kv-store encoding of the COPS state in \cref{fig:cops-after-write-transaction}}
\caption{A kv-store encoding of a COPS state}
\vspace{-15pt}%
\label{fig:encode-mkvs}
\end{subfigure}

& 

\begin{subfigure}{0.42\textwidth}
\begin{centertikz}
%Location x
\node(locx) {$\key_1 \mapsto$};
\draw pic at ([xshift=\tikzkvspace]locx.east) {vlist={versionx}{%
    /$\val_0$/${(\txid_0,\repl_0)}$/$\stub$
    , /$\val_1$/${(\txid_1,\repl_1)}$/$\stub$
}};

%Location y
\path (versionx.east) + (0.75,0) node (locy) {$\key_2 \mapsto$};
\draw pic at ([xshift=\tikzkvspace]locy.east) {vlist={versiony}{%
    /$\val_0$/${(\txid_0,\repl_0)}$/$\stub$
}};

\end{centertikz}
\caption{A view encoding of a COPS client context}
\vspace{-15pt}%
\label{fig:encode-view}
\end{subfigure}%
\\ \hline
\end{tabularx}

\caption{COPS encoding}
\label{fig:cops-encode}
\end{figure*}
