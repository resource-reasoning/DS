\subsection{Separation Algebra}

The concept of a \textit{separation algebra} was introduced in \cite{sepalgebra} to abstract from the standard separation logic model for heaps equipped with an operator to compose them. We introduce such concept here and list some of its core properties.

\defn (Separation algebra). A separation agebra $(\mathcal{M}, \bullet, I)$ \cite{views} is a partial, commutative monoid with multiple units, where $\mathcal{M}$ is a set equipped with a partial operator $\bullet : \mathcal{M} \times \mathcal{M} \rightharpoonup \mathcal{M}$ and a unit set $I \subseteq \mathcal{M}$ satisfying:
\begin{itemize}
\item Commutativity: $m_1 \bullet m_2 = m_2 \bullet m_1$ when either is defined.
\item Associativity: $m_1 \bullet (m_2 \bullet m_3) = (m_1 \bullet m_2) \bullet m_3$ when either is defined.
\item Existence of unit: for all $m \in \mathcal{M}$ there exists $i \in I$ such that $i \bullet m = m$.
\item Minimality of unit: for all $m \in \mathcal{M}$ and $i \in I$, if $i \bullet m$ is defined then $i \bullet m = m$.
\item Cancellativity: for all $m_1, m_2, y, z \in \mathcal{M}$ if $m_1 \bullet y = z$ and $m_2 \bullet y = z$ then $m_1 = m_2$.
\end{itemize}

\defn (Ordering). Given a separation algebra $(\mathcal{M}, \bullet, \mathbf{0})$, the ordering relation $\leq : \mathcal{M} \times \mathcal{M}$ is defined as:
\[
	\leq \triangleq \{ (m_1, m_2)\ |\ \exists m \ldotp m_1 \bullet m = m_2 \}
\]
We write $m_1 \leq m_2$ for $(m_1, m_2) \in \leq$.

\defn (Compatibility). Given a separation algebra $(\mathcal{M}, \bullet, \mathbf{0})$, the compatibility property $\sharp : \mathcal{M} \times \mathcal{M}$ is defined as:
\[
	\sharp \triangleq \{ (m_1, m_2)\ |\ \exists m \ldotp m_1 \bullet m_2 = m \}
\]

\defn (Orthogonal). Given a separation algebra $(\mathcal{M}, \bullet, \mathbf{0})$ and an element $m \in \mathcal{M}$, its orthogonal $(-)^\bot_\mathcal{M} : \mathcal{M} \rightarrow \mathcal{P}(\mathcal{M})$ is the set of all elements in $\mathcal{M}$ which are compatible with it.
\[
	(m)^\bot_\mathcal{M} \triangleq \{m'\ |\ m\ \sharp\ m' \}
\]

\defn (Cross-split property) A separation agebra $(\mathcal{M}, \bullet, I)$ complies with the cross-split property iff:
\begin{gather*}
	\forall a, b, c, d, z \ldotp a \bullet b = z \land c \bullet d = z \implies \\ \exists ac, ad, bc, bd \ldotp ac \bullet ad = a \land ac \bullet bc = c \land bc \bullet bd = b \land ad \bullet bd = d
\end{gather*}