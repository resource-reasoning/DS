\section{Instrumented Semantics}

We define operational semantics that are instrumented with an additional strucure that records the history of a program execution. Such structure is a serializability graph whose nodes are the programs' transactions and whose directed edges are present if there are conflicting operations between two of them. The graph is represented through an adjacency map, associating every transaction identifier with a set of neighbours. Therefore $\mathsf{SG} : \mathsf{Tid} \rightarrow \mathcal{P}(\mathsf{Tid})$. For conciseness we also define $\mathsf{PState} \triangleq \mathsf{Storage} \times \mathsf{LMan} \times \mathsf{TState}$.

\[
(-, -, -, -) \rightarrow (-, -, -, -) : (\mathsf{PState}, \mathsf{Track}, \mathsf{SG}, \mathsf{Prog})^2
\]