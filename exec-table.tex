%\ifCommentEdits
%\begin{figure*}[!t]
%\small
%\begin{tabularx}{\textwidth}{ @{} X r r ||  X  r r @{} }
%\hline
%Model & Initial \( \txidset \) & Relation \( R \) &
%Model & Initial \( \txidset \) & Relation \( R \)
%\\
%\hline
%\MR & \(\clRead[\mkvs,\cl]\) & \( \emptyset \)
%&
%\UA &   \( \uaWrite[\mkvs,\fp] \) & \( \bigcup_{(\otW,\key,\stub) \in \fp} \WW_{\mkvs}(\key) \)
%\\
%\MW & \( \emptyset \) & \( \SO\rflx \)
%&
%\PSI & \( \dagger \cup \uaWrite[\mkvs,\fp] \) & \( \SO \cup \WR_{\mkvs} \cup \WW_{\mkvs}\)
%\\
%\RYW & \( \clWrite[\mkvs,\cl] \) & \( \emptyset \)
%&
%\CP & \( \dagger  \)  &\(  \ddagger  \)
%\\
%\WFR & \( \emptyset \) & \( \WR_{\mkvs} ; \SO\rflx \)
%&
%$\SI$ & \( \dagger \cup \uaWrite[\mkvs,\fp] \) & \( \ddagger \cup (\WW_\mkvs; \RW_\mkvs) \)
%\\
%\CC & \( \dagger \)  & \( \SO \cup \WR_{\mkvs} \)
%&
%\SER & \( \Set{\txid}[\txid \in \mkvs] \) & \( \emptyset \) \\
%\hline
%\end{tabularx}%
%%
%\begin{align*}
    %\dagger & \equiv 
    %\clRead[\mkvs,\cl] \cup \clWrite[\mkvs,\cl] 
    %\quad \ddagger 
    %\equiv 
    %(\SO ; \RW_{\mkvs}\rflx) \cup (\WR_{\mkvs} ; \RW_{\mkvs}\rflx) \cup \WW_\mkvs 
%\end{align*}
%%
%\begin{align*}
    %\WR_{\mkvs} &\defeq \bigcup_{\key \in \Keys} \WR_\mkvs(\key)
    %& \WR_\mkvs(\key) & \defeq
    %\Set{ (\txid, \txid') }[ \exsts{ i }\txid = \wtOf(\mkvs(\key, i)) \land \txid' \in \rsOf(\mkvs(\key, i))]\\
    %\WW_{\mkvs} &\defeq  \bigcup_{\key \in \Keys} \WW_\mkvs(\key) 
    %& \WW_\mkvs(\key)  & \defeq 
    %\Set{ (\txid, \txid') }[ \exsts{ i, j } \txid = \wtOf(\mkvs(\key, i)) \land \txid' = \wtOf(\mkvs(\key, j)) \land i < j]\\
    %\RW_{\mkvs} &\defeq   \bigcup_{\key \in \Keys} \RW_\mkvs(\key)  
    %& \RW_\mkvs(\key) & \defeq \Set{ (\txid, \txid') }[%
        %\exsts{ i, j } \txid \in \rsOf(\mkvs(\key, i)) \land \txid' = \wtOf[\mkvs(\key, j)]%
        %\land i < j \land \txid \neq \txid'%
    %]
%\end{align*}
%%
%\begin{align*}
    %\lfpTx[\mkvs,\txidset, R] & \defeq \mu X . \txidset \cup R^{-1}(X) \\
    %\extRead[\mkvs,\vi,\fp] & \defeq \Set{\wtOf[\mkvs(\key,\max(\vi(\key)))]}[%
        %\fora{\key,\val} (\otR,\key,\val) \in \fp 
        %\implies 
        %\val = \valueOf[\mkvs(\key,\max(\vi(\key)))]%
    %] \\
    %\clRead[\mkvs,\cl] & \defeq \Set{\wtOf[\mkvs(\key,i)]}[ \exsts{n} \txid_{\cl}^{n} \in \rsOf[\mkvs(\key,i)] ] 
    %\quad \clWrite[\mkvs,\cl] \defeq \Set{\wtOf[\mkvs(\key,i)]}[ \exsts{n} \txid_{\cl}^{n} \in \wtOf[\mkvs(\key,i)] ] \\
    %\Tx[\mkvs, \vi] & \defeq 
    %\Set{ \wtOf[\mkvs(\key, i)] }[ \key \in \Keys \land i \in \vi(\key) ]
    %\quad 
    %\getView[\mkvs, \txidset] \defeq 
    %\lambda \key. \Set{0} \cup \Set{ i }[\wtOf(\mkvs(\key, i)) \in \txidset] \\
    %\uaWrite[\mkvs,\fp] & \defeq \Set{\wtOf[\mkvs(\key,\abs{\mkvs(\key)} - 1)]}[\exsts{\val} (\otW,\key,\val) \in \fp] 
%\end{align*}
%%
%\hrulefill
%%
%\caption{Execution tests of client-centric (left) and data-centric (right) consistency models, 
%with $\SO$ as defined in \cref{subsec:kvstores}. 
%All free variables are universally quantified.
%}
%%\label{fig:execution.tests}
%%\label{fig:execution_tests}
%%\label{fig:execution-tests}
%\end{figure*}
%\fi

\begin{figure*}[!t]
\small
\centering
\begin{tabularx}{\textwidth}{ @{} X r ||  X  r @{} }
\hline
Model & Execution Test: \((\mkvs, \vi) \csat \fp : (\mkvs',\vi')\) &
Model & Execution Test: \((\mkvs, \vi) \csat \fp : (\mkvs',\vi')\)
\\
\hline
\MR & $\vi \viewleq \vi'$
&
\UA & 
%$(\otW, \key,  \stub) \in \fp \land 0 \leq i < \lvert \mkvs(\key)
%      \rvert \implies i \in \vi(\key) $
$\closed(\mkvs, \vi, R_{\UA}(\fp))$
\\
\MW & 
%\(\allowed[\SO\rflx] \)
\( \closed(\mkvs, \vi, \SO\rflx) \)
&
$\PSI$ & %$\allowed[\Diamond] \cap \ET_\MR \cap \ET_\RYW  \cap \ET_\UA $
$\closed(\mkvs, \vi, R_{\PSI}(\fp)) \cap \ET_{\MR} \cap \ET_{\RYW}$
\\
\RYW & $ \txid \in \mkvs' \land \txid \notin \mkvs \land \wtOf(
\mkvs'(\key, i) ) \toEDGE{\SO\rflx} \txid \implies i \in \vi'(\key) $
&
\CP & %\(\allowed[\dagger] \cap \ET_\MR \cap \ET_\RYW \) 
\(\closed(\mkvs, \vi, R_{\CP}) \cap \ET_{\MR} \cap \ET_{\RYW} \)
\\
\WFR & 
%\( \allowed[ \WR_{\mkvs} ; \SO\rflx] \)
\(\closed(\mkvs, \vi, R_{\WFR})\)
&
$\SI$ & $\allowed[\ddagger] \cap \ET_\MR \cap \ET_\RYW  \cap \ET_\UA $
\\
$\CC$ & 
%$\allowed[\SO \cup \WR_\mkvs ] \cap \ET_\MR \cap \ET_\RYW$
$\closed(\mkvs, \vi, R_{\CC}) \cap \ET_{\MR} \cap \ET_{\RYW}$
\ac{Some problem with types}
&
\SER & 
%$ 0 \leq i < \lvert \mkvs(\key) \rvert \implies i \in \vi(\key) $\\
$\closed(\mkvs,\vi, \WW^{-1})$\\
\hline
\end{tabularx}%
%

{\small
\begin{align*}
	R_{\WFR} & \equiv \WR_{\mkvs} ; \SO\rflx \quad
	R_{\CC} \equiv R_{\WFR} \cup \SO \quad
	R_{\UA}(\fp) \equiv \bigcup_{(\otW, \key, \_) \in \fp} \WW^{-1}_{\mkvs}(\key) \quad \\
	R_{\PSI}(\fp) &\equiv R_{\CC} \cup R_{\UA}(\fp) \cup \WW \quad
	R_{\CP} &\equiv \SO;\RW\rflx \cup \WR;\RW\rflx \cup \WW
	\quad
	R_{\SI}(\fp) \equiv R_{\CP} \cup R_{\UA}(\fp) \cup \WW;\RW
    %\Diamond & \equiv \SO \cup \WR_{\mkvs} \cup \WW_{\mkvs}
%    \quad 
%    \dagger 
%    \equiv \Diamond \cup (\SO ; \RW_{\mkvs}) \cup (\WR_{\mkvs} ; \RW_{\mkvs}) 
%    \quad 
%    \ddagger 
%    \equiv \dagger \cup (\WW_{\mkvs} \cup \RW_{\mkvs})
\end{align*}
%
%\begin{align*}
%    \WR_{\mkvs} &\defeq
%    \Set{ (\txid, \txid') }[ \exsts{ \key, i }\txid = \wtOf(\mkvs(\key, i)) \land \txid' \in \rsOf(\mkvs(\key, i))]\\
%    \WW_{\mkvs} &\defeq 
%    \Set{ (\txid, \txid') }[ \exsts{ \key, i, j } \txid = \wtOf(\mkvs(\key, i)) \land \txid' = \wtOf(\mkvs(\key, j)) \land i < j]\\
%    \RW_{\mkvs} &\defeq
%    \Set{ (\txid, \txid') }[%
%        \exsts{ \key, i, j } \txid \in \rsOf(\mkvs(\key, i)) \land \txid' = \wtOf[\mkvs(\key, j)]%
%        \land i < j \land \txid \neq \txid'%
%    ]
%\end{align*}
%
%\begin{align*}
%    \allowed[R] & \defeq 
%    \Set{(\mkvs, \vi, \fp, \mkvs', \vi')}[ \vi = \getView[\mkvs, \left( \mu X . \Tx[\mkvs,\vi] \cup \rel^{-1}(X) \right) ] ] 
%    \\
%    \getView[\mkvs, \txidset] & \defeq 
%    \lambda \key. \Set{0} \cup \Set{ i }[\wtOf(\mkvs(\key, i)) \in \txidset]  
%    %\lfpTx[\mkvs,\vi, \rel] 
%    %\defeq \mu X .  \Tx[\mkvs,\vi] \cup \rel^{-1}(X) 
%    \quad 
%    \Tx[\mkvs, \vi] \defeq 
%    \Set{ \wtOf(\mkvs(\key, i)) }[ \key \in \Keys \land i \in \vi(\key) ]
%\end{align*}
}%
%
\hrulefill

\caption{Execution tests of client-centric (left) and data-centric (right) consistency models, 
with $\SO$ as defined in \cref{subsec:kvstores}. 
All free variables are universally quantified.
}
\label{fig:execution.tests}
\label{fig:execution_tests}
\label{fig:execution-tests}
\end{figure*}
