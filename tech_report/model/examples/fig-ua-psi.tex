\begin{figure}

\begin{tabularx}{\textwidth}{@{}c@{}|@{}X@{}}
\begin{subfigure}{0.394\textwidth}
\centering
\begin{tikzpicture}
\KVMapping{x}{\key}{
    /\val_{0}/\txid_0/\Set{\txid,\boldsymbol{\txid'}}
    , /\val_{1}/\txid/\emptyset
    , /\val_{2}/\boldsymbol{\txid'}/\emptyset
};
\end{tikzpicture}
\caption{Lost update anomaly, disallowed by \(\UA\).  }
\label{fig:ua-disallowed}
\end{subfigure}

& 

\begin{subfigure}{0.594\textwidth}%
\centering
\begin{tikzpicture}%
\KVMapping{x}{\key_1}{
    /\val_0/\txid_0/\emptyset
    , /\val_1/\txid^{1}_{\cl}/\emptyset
    , /\val_2/\txid^{1}_{\cl'}/\Set{\boldsymbol{\txid}}
};
\KVMapping[x]{u}{\key_2}{
    /\val_0/\txid_0/\Set{\boldsymbol{\txid}}
    , /\val_3/\txid^{1}_{\cl}/\emptyset
};
\end{tikzpicture}%
\caption{Allowed by \(\CC\) and \( \UA \) and henceforth \( \WSI\),
but disallowed by \( \PSI \)}
\label{fig:cc-ua-allowed-but-psi}
\end{subfigure}%

\\ \hline

\end{tabularx}

\vspace*{1em}

\begin{subfigure}{\textwidth}
\centering
\begin{tikzpicture}

\node at (0,0) (a) {\(\txid\)};
\node at (4,-1.5) (b) {\(\txid'\)};
\node[anchor=south] at (6,-3) (c) {\(\txid''\)};
%\node at (4.5,0) (c) {\(\txid_1\)};
%\node at (10,-2) (d) {\(\txid_3\)};

\coordinate (a1) at ($(a) + (3,0)$);
\coordinate (b1) at ($(b) + (3,0)$);
\coordinate (c1) at ($(c) + (3,0)$);
%\coordinate (d1) at ($(d) + (3,0)$);

\draw[|-,densely dashed] (a) -- ($(a)!0.5!(a1)$);
\draw[-|] ($(a)!0.5!(a1)$) -- (a1);
\draw[|-,densely dashed] (b) -- ($(b)!0.5!(b1)$);
\draw[-|] ($(b)!0.5!(b1)$) -- (b1);
\draw[|-,densely dashed] (c) -- ($(c)!0.5!(c1)$);
\draw[-|] ($(c)!0.5!(c1)$) -- (c1);

\path[->, thick, densely dashed] (a1) edge node[left, text opacity=1] {$\texttt{view ind.}$} ($(b)+(0.3,0.05)$);
\path[->, thick, densely dashed] (b1) edge node[left, text opacity=1] {$\texttt{view ind.}$} ($(c)+(0.3,0.05)$);
\path[->, thick, densely dashed] (a1) edge[bend right=60] node[left, text opacity=1] {$\texttt{view ind.}$} ($(c)+(0.3,0.05)$);
\path[->, thick] (a1) edge node[above, text opacity=1] {$\WW$} (b1);
\path[->, thick] (b1) edge node[above, text opacity=1] {$\WW$} (c1);
\path[->, thick] (a1) edge[bend left=50] node[above, text opacity=1] {$\WW$} (c1);

\end{tikzpicture}

\caption{An example of concurrent writes with dashed line being able to stretched}
\label{fig:example-of-concurrent-write}

\end{subfigure}


\hrulefill


\caption{Anomalies for \(\UA \) and \( \PSI \)}
\end{figure}
