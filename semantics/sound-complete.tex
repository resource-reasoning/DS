\subsection{soundness and completeness of the specification}

\subsubsection{\( \MRd \)}

We now show how to employ the proof technique from \cref{def:et_sound} to prove that the execution 
test $\ET_\MRd$ is sound with respect to the axiomatic specification $(\RP_{\LWW}, \{\lambda \aexec. \VIS_{\aexec} ; \PO_{\aexec} \})$. 
As a consequence of \cref{thm:et_soundness}, it follows that $\CMs(\ET_{\MRd}) \subseteq \{ \hh_{\aexec} \mid \aexec \in \CMa(\RP_{\LWW}, 
\{\lambda \aexec. \VIS_{\aexec} ; \PO_{\aexec})\} \}$. 

As an invariant condition for the execution test $\ET_{\MRd}$, we choose 
\[
I(\aexec, \cl) = \bigcup_{\{\txid_{\cl}^{n} \in \T_{\aexec} \mid n \in \Nat\}} \VIS_{\aexec}^{-1}(\txid^n_\cl).
\]
Let now $\hh, \vi, \vi', \opset$ be such that $\ET_{\MRd} \vdash (\hh, \vi) \triangleright \opset: \vi'$. 
Choose an arbitrary $\cl$, a transaction identifier $\txid \in \nextTxId(\hh, \cl)$, 
an abstract execution $\aexec$ such that $\hh_{\aexec} = \hh$, and a set of 
transactions $\T_{\mathsf{rd}}$ that are read-only in $\aexec$, such that 
\begin{equation}
I(\aexec, \cl) \subseteq \Tx(\hh, \vi) \cup \T_{\mathsf{rd}}.
\label{eq:mr_invariant}
\end{equation}

Let now $\T'_{\mathsf{rd}} = \emptyset$, $T''_{\mathsf{rd}} = \T_{\mathsf{rd}}$. 
Let 
\[ 
\aexec' = \extend(\aexec, \txid, \opset, \Tx(\hh, \vi) \cup \T_{\mathsf{rd}} \cup \T'_{\mathsf{rd}}) = 
\extend(\aexec, \txid, \opset, \Tx(\hh, \vi) \cup \T_{\mathsf{rd}}).\]
We can derive the following facts:
\begin{itemize}
\item $\{\txid' \mid (\txid', \txid) \in \VIS_{\aexec'} ; \PO_{\aexec'} \} \subseteq \Tx(\hh, \vi) \cup \T'_{\mathsf{rd}}$. 
To see why this is true, suppose that $\txid' \xrightarrow{\VIS_{\aexec'}} \txid'' \xrightarrow{\PO_{\aexec'}} \txid$ 
for some $\txid', \txid''$. We show that $\txid' \in I(\aexec, \cl)$, and then \cref{eq:mr_invariant} ensures 
that $\txid' \in \Tx(\hh, \vi) \cup \T_{\mathsf{rd}}$. 

If $\txid'' \xrightarrow{\AR_{\aexec'}} \txid$, {\color{blue} sx: guess it is \( \SO_{\aexec'}\) } then $\txid'' = \txid_{\cl}^{n}$ for some $n \in \Nat$, 
and because $\txid'' \neq \txid$, and $\T_{\aexec'} \setminus \T_{\aexec} = \{ \txid \}$, we also 
have that $\txid'' \in \aexec$. By the definition of $I(\aexec, \cl)$, we have that $\VIS^{-1}_{\aexec}(\cl) \subseteq 
I(\aexec, \cl)$: because $\txid' \xrightarrow{\VIS_{\aexec'}} \txid''$ and $\txid'' \neq \txid$, we have 
that $\txid' \xrightarrow{\VIS_{\aexec}} \txid''$, and therefore $\txid' \in I(\aexec, \cl)$. 

\item $I(\aexec', \cl) \subseteq \Tx(\aexec', \vi') \cup \T''_{\mathsf{rd}} = \Tx(\hh', \vi') \cup \T_{\mathsf{rd}}$. 
In this case, note that because $\ET_{\MRd} \vdash (\hh, \vi) \triangleright \opset: \vi'$, then 
it must be the case that $\vi \viewleq \vi'$. A trivial consequence of this fact is that 
$\Tx(\hh, \vi) \subseteq \Tx(\hh, \vi')$. Also, because $\aexec' = \extend(\aexec, \txid, \Tx(\hh, \vi) \cup \T_{\mathsf{rd}})$, 
we have that $\Tx(\hh_{\aexec}, \vi') = \Tx(\hh_{\aexec}, \vi')$. {\color{blue} sx: guess it should be \( \vi \) instead of \( \vi' \)} {\color{red} to infer this there should 
be a Lemma that states that if $\vi \in \Views(\hh)$, then 
$\Tx(\updateKV(\hh, \vi', \txid, \opset), \vi) = \Tx(\hh, \vi)$.}
Finally, note that $\{\txid_{\cl}^{n} \in \aexec' \mid n \in \Nat\} = 
\{ \txid_{\cl}^{n} \in \T_{\aexec} \mid n \in \Nat\} \cup \txid$, that for any 
$\txid_{\cl}^{n} \in \T_{\aexec}$ we have that $\VIS^{-1}_{\aexec'}(\txid_{\cl}^{n}) = 
\VIS^{-1}_{\aexec}(\txid_{\cl}^{n})$, and that 
$\VIS_{\aexec'}^{-1}(\txid) = \Tx(\hh, \vi) \cup \T_{\mathsf{rd}}$. 
Using all these facts, we obtain 
\[
\begin{rclarray}
I(\aexec', \cl) &=& \bigcup_{\{\txid_{\cl}^{n} \in \aexec' \mid n \in \Nat\}} \VIS_{\aexec'}^{-1}(\txid_{\cl}^{n}) \\
&=& \left( \bigcup_{\{\txid_{\cl}^{n} \in \aexec \mid n \in \Nat\}} \VIS_{\aexec}^{-1}(\txid_{\cl}^{n}) \right) \cup \VIS^{-1}_{\aexec'}(\txid)\\
&=& I(\aexec, \cl) \cup (\Tx(\hh, \vi) \cup \T_{\mathsf{rd}})\\
&\stackrel{\eqref{eq:mr_invariant}}{\subseteq}& \Tx(\hh, \vi) \cup \T_{\mathsf{rd}}\\
&=& \Tx(\hh_\aexec, \vi) \cup \T_{\mathsf{rd}}\\
&=& \Tx(\hh_{\aexec'}, \vi) \cup \T_{\mathsf{rd}}\\
&\subseteq& \Tx(\hh_{\aexec'}, \vi') \cup \T_{\mathsf{rd}}.
\end{rclarray}
\]
\end{itemize}

We show that the execution test $\ET_{\MRd}$ is complete 
with respect to the axiomatic specification $(\RP_{\LWW}, \{\lambda \aexec.(\VIS_{\aexec};\PO_{\aexec})\})$. 
To this end, let $\aexec$ be an abstract execution that satisfies the specification
$\CMa(\RP_{\LWW}, \{\lambda \aexec.(\VIS_{\aexec};\PO_{\aexec})\})$, 
and consider a transaction $\txid \in \T_{\aexec}$. 
Suppose that $\T_{\aexec} = \{\txid_{i}\}_{i=1}^{n}$, and for any $i=1,\cdots, n-1$,
$\txid_{i} \xrightarrow{\AR_{\aexec}} \txid_{i+1}$.
Fix $i=1,\cdots,n$, and let $\vi'_{i-1} = \getView(\aexec, \VIS^{-1}_{\aexec}(\txid_{i}))$.
We have two possible cases: 
\begin{itemize}
\item the transaction $\txid'_{i} = \min_{\PO_{\aexec}}\{\txid' \mid \txid_{i} \xrightarrow{\PO_{\aexec}} \txid'\}$ is 
defined. In this case let $\vi_{i} =\getView(\aexec, (\AR^{-1}_{\aexec})?(\txid_{i}) \cap \VIS^{-1}_{\aexec}(\txid'_{i}))$. 
Note that $\txid_{i} \xrightarrow{\PO_{\aexec}} \txid'_{i}$, and because $\aexec \models \VIS_{\aexec} ; \PO_{\aexec}$, 
it follows that $\VIS^{-1}_{\aexec}(\txid_{i}) \subseteq \VIS^{-1}_{\aexec}(\txid'_{i})$. 
We also have that $\VIS^{-1}_{\aexec}(\txid_{i}) \subseteq (\AR^{-1}_{\aexec})?(\txid_{i})$ because of 
the definition of abstract execution. It follows that 
\[
\VIS^{-1}_{\aexec}(\txid_{i}) \subseteq (\AR^{-1}_{\aexec})?(\txid_{i}) \cap \VIS^{-1}_{\aexec}(\txid'_{i}),
\]
Recall that  $\vi'_{i-1} = \getView(\aexec, \VIS^{-1}_{\aexec}(\txid_{i}))$, 
and $\vi_{i} =\getView(\aexec, (\AR^{-1}_{\aexec})?(\txid_{i}) \cap \VIS^{-1}_{\aexec}(\txid'_{i}))$. 
Thus we have that $\vi'_{i-1} \viewleq \vi_{i}$, and therefore $\ET_{\MRd} \vdash (\hh_{\cut(\aexec, i)}, \vi'_{i-1}) 
\triangleright \TtoOp{T}_{\aexec}(\txid_{i}) : \vi_{i}$. 
\item the transaction $\txid'_{i} = \min_{\PO_{\aexec}}\{\txid' \mid \txid_{i} \xrightarrow{\PO_{\aexec}} \txid_{i}\}$ 
is not defined. In this case, let $\vi_{i} = \getView(\aexec, (\AR^{-1}_{\aexec})?(\txid_{i}))$. 
As for the case above, we have that $\vi'_{i-1} \viewleq \vi_{i}$, and therefore 
$\ET_{\MRd} \vdash (\hh_{\cut(\aexec, i)}, \vi'_{i-1}) \triangleright \TtoOp{T}_{\aexec}(\txid_{i}) : \vi_{i}$. 
\end{itemize}

\subsection{\( \MW \)}

The execution test $\ET_\MW$ is sound with respect to the axiomatic specification 
{\color{blue}$(\RP_{\LWW}, \{\lambda \aexec. \PO_{\aexec} ; [Wt] ; \VIS_{\aexec} \})$},
where \( [Wt] \defeq \Setcon{(\txid, \txid)}{(\otW, \stub, \stub) \in \txid} \).
We pick the invariant as \( I( \aexec, \cl ) = \emptyset \), given the fact of no constraint on the view after update.
Assume a key-value store \( \mkvs \) and its corresponding abstract execution \( \aexec \) so that \( \mkvs = \mkvs_\aexec \).
Given an update on the key-value store that satisfies \( \MW \), \ie \( \MW \vdash (\mkvs, \vi) \csat \f : \vi' \),
by the \cref{def:et_sound}, it remains to prove that for any set of read-only transaction \( \T_{\rd} \) there exists another set of read-only transactions \( \T_{\rd'} \) such that
\[
    \begin{array}{@{}l@{}}
        \fora{ \aexec', \txid, \txid' } \aexec' = \extend(\aexec, \txid, \Tx(\mkvs, \vi) \cup \T_\rd \cup \T_{\rd'}, \f ) \land (\txid' ,\txid)  \in \PO_{\aexec'} ; [Wt] ; \VIS_{\aexec'}  \\
    \qquad {} \implies \txid' \in \Tx(\mkvs, \vi) \cup \T_\rd \cup \T_{\rd'}
    \end{array}
\]
Initially we take \( \T_{\rd'} = \emptyset \), 
by closing the \( \Tx(\mkvs, \vi) \cup \T_\rd \) with respect to \( \PO_{\aexec'} ; [Wt] ; \VIS_{\aexec'} \)
we will add more read-only transactions into the set \( \T_{\rd'}\).
Suppose \( (\txid' ,\txid)  \in \PO_{\aexec'} ; [Wt] ; \VIS_{\aexec'} \), 
that is, \( \txid' \toEdge{\SO_{\aexec'}} \txid'' \toEdge{\VIS_{\aexec'}} \txid \) for some transaction \( \txid'' \) that at least writes to a key.
For the new abstract execution \( \aexec' \), the visible transactions for \( \txid \) must come from \( \Tx(\mkvs, \vi) \cup \T_\rd \cup \T_{\rd'} \).
It means \( \txid'' \in \Tx(\mkvs, \vi) \cup \T_\rd \cup \T_{\rd'} \),
and then given that \( \txid'' \) is not a read-only transaction, we have \( \txid'' \in \Tx(\mkvs, \vi) \).
Now there are two cases: \textbf{(i)} \( \txid' \) is a read-only transaction, or \textbf{(ii)} \( \txid' \) has at least one write.
For the first case, either \( \txid' \in \T_\rd \) already or we include \( \txid' \in \T'_{\rd} \).
For the second case, it is easy to see \( \txid' \in \Tx(\mkvs, \vi) \) since \( j \in \vi(\ke) \wedge \WTx(\hh(\ke', i)) \xrightarrow{\PO?} \WTx(\hh(\ke, j)) \implies i \in \vi(\ke') \).


The execution test $\ET_{\MRd}$ is complete with respect to 
the axiomatic specification $(\RP_{\LWW}, \{\lambda \aexec.(\PO_{\aexec} ; [Wt] ; \VIS_{\aexec})\})$. 
Let $\aexec$ be an abstract execution that satisfies the specification
$\CMa(\RP_{\LWW}, \{\lambda \aexec.(\PO_{\aexec} ; [Wt] ; \VIS_{\aexec})\})$.
Suppose that $\T_{\aexec} = \{\txid_{i}\}_{i=1}^{n}$, and for any $i=1,\cdots, n-1$, $\txid_{i} \xrightarrow{\AR_{\aexec}} 
\txid_{i+1}$.
Let views \( \vi_{i} = \getView(\aexec, \VIS^{-1}_{\aexec}(\txid_{i}) ) \) and \( \vi'_{i} \subseteq \getView(\aexec, (\AR^{-1}_{\aexec})?(\txid_{i}) ) \).
It suffices to prove \( \ET_\MW \vdash (\hh_{\cut(\aexec, i-1)}, \vi_i ) \csat  \TtoOp{T}_{\aexec}(\txid_{i}) : \vi'_{i} \).
It means to prove the follows:
\begin{equation}
\label{equ:mw-complete}
\begin{array}{@{}l@{}}
    \fora{i,j,\ke, \ke' } j \in \vi(\ke)
    \wedge \WTx(\hh(\ke', i)) \xrightarrow{\PO?} \WTx(\hh(\ke, j)) 
    \implies i \in \vi(\ke')
\end{array}
\end{equation}
Assume \( j \) and \( \ke' \) such that \( j \in \vi(\ke')\), which means \( \WTx(\hh_{\cut(\aexec, i-1)}, \ke', j) \in \VIS^{-1}_{\aexec}(\txid_{i}) \).
Now let consider transaction \( \txid \) that commits before \( \txid \) from the same session, \ie \( \txid \toEdge{\SO} \WTx(\hh_{\cut(\aexec, i-1)}, \ke', j) \).
By the constraint \( \lambda \aexec.(\PO_{\aexec} ; [Wt] ; \VIS_{\aexec}) \), the transaction \( \txid \in \in \VIS^{-1}_{\aexec}(\txid_{i}) \).
It means that in the kv-store \(  \hh_{\cut(\aexec, i-1)} \) every version written by \( \txid \) should be included in the view \( \vi_i \).
Thus we have the proof of \cref{equ:mw-complete}.

\subsection{ \( \RYW \) }

The execution test $\ET_\RYW$ is sound with respect to the axiomatic specification 
$(\RP_{\LWW}, \{\lambda \aexec. \PO_{\aexec} \})$.
We pick an invariant for the \( \ET_\RYW \) as the following:
\[
    I(\aexec, \cl) = \bigcup_{\{\txid_{\cl}^{n} \in \T_{\aexec} \mid n \in \Nat\}} (\SO_{\aexec}^{-1})?(\txid^n_\cl)
\]
Suppose a kv-store \( \mkvs \), an abstract execution \( \aexec \), a view \( \vi \) and a set of read-only transactions \( \T_\rd \)
such that \( \mkvs_\aexec = \mkvs \) and \( I(\aexec, \cl) \subseteq \Tx(\mkvs, \vi) \cup \T_\rd \).
Assume that a fresh transaction identifier \( \txid_\cl^n \) with fingerprint \( \f \) commits to 
the kv-store \( \mkvs \) under view \( \vi \) and the view after is updated to \( \vi' \), that is, 
\( \ET_\RYW \vdash (\mkvs, \vi) \csat \f : \vi' \).
Let a new abstract execution \( \aexec' = \extend(\aexec, \txid_\cl^n, \f, \Tx(\mkvs, \vi) \cup \T_\rd) \).
We need to prove the following:
\begin{gather}
    \fora{\txid} \txid \toEdge{\SO_{\aexec'}} \txid_\cl^n \implies \txid \in \Tx(\mkvs, \vi) \cup \T_\rd \label{equ:ryw-sound-update}\\
    \exsts{ \T''_{\rd} } I(\aexec',\cl) \subseteq \Tx(\mkvs_{\aexec'}, \vi') \cup \T''_\rd \label{equ:ryw-sound-inv} 
\end{gather}
Assume a transaction \( \txid \) such that \( \txid \toEdge{\SO_{\aexec'}} \txid_\cl^n \).
It immediately implies that \( \txid = \txid_\cl^m\) where \( m < n \) and \( \txid_\cl^m \in \aexec \).
Thus we prove \cref{equ:ryw-sound-update} as \( \txid \in I(\aexec,\cl) \subseteq \Tx(\mkvs,\vi) \cup \T_\rd\).
To prove \cref{equ:ryw-sound-inv}, let initially \( \T''_\rd = \emptyset \) and we will include more read-only transactions if necessary.
First we have \( I(\aexec', \cl) = \bigcup\limits_{\{\txid_{\cl}^{m} \in \T_{\aexec'} \mid m \in \Nat\}} (\SO_{\aexec'}^{-1})?(\txid^m_\cl) = (\SO_{\aexec'}^{-1})?(\txid^n_\cl) \) since that  \( \txid^n_\cl \) is the latest transaction committed by the client \( \cl \).
For any transaction \( \txid \in (\SO_{\aexec'}^{-1})?(\txid^n_\cl) \),
there are two cases: \textbf{(i)} \( \txid \) has write, and \textbf{(ii)} \( \txid \) has no write.
For the first case,
because \( \WTx( \mkvs_{\aexec'}(\ke, i) ) \leq \txid \implies i \in \vi'(\ke) \),
then \( \txid \in \Tx(\mkvs_{\aexec'}, \vi') \).
For the second case, 
we include the transaction in the read-only set \( \T''_\rd \).
Thus we have the proof of \cref{equ:ryw-sound-inv}.


The execution test $\ET_{\RYW}$ is complete with respect to 
the axiomatic specification $(\RP_{\LWW}, \Set{\lambda \aexec.\PO_{\aexec} })$. 
Let $\aexec$ be an abstract execution that satisfies the specification
$\CMa(\RP_{\LWW}, \Set{\lambda \aexec.\PO_{\aexec} })$.
Suppose that $\T_{\aexec} = \Set{\txid_{i}}_{i=1}^{n}$, and for any $i=1,\cdots, n-1$,
$\txid_{i} \xrightarrow{\AR_{\aexec}} \txid_{i+1}$.
Fix $i=1,\cdots,n$, and let a view $\vi_{i} = \getView(\aexec, \VIS^{-1}_{\aexec}(\txid_{i}))$.
We construct the view after update \( \vi'_i\) depending on whether \( \txid_i \) is the last transaction from the client.
If the transaction \( \txid'_i = \min_{\SO_\aexec}(\Setcon{\txid'}{\txid_i \toEdge{\SO_\aexec} \txid' } ) \)  is defined,
then \( \vi'_i = \getView(\aexec, \T_i) \) where \( \T_i \subseteq (\AR_{\aexec}^{-1})?(\txid_i) \cap \VIS_\aexec^{-1}(\txid'_i) \) for some \( \T_i \).
Given the specification \( \lambda \aexec.\PO_{\aexec} \), 
we know \( \SO_\aexec^{-1}(\txid'_i) \subseteq \VIS_\aexec^{-1}(\txid'_i) \).
We pick \( \T_i = \AR_\aexec^{-1})?(\txid_i) \cap \SO_\aexec^{-1}(\txid'_i) = (\SO_\aexec^{-1})?(\txid_i) \).
Since \( \vi'_i = \getView(\aexec, \T_i) \), therefore \( \ET_\RYW \vdash (\hh_{\cut(\aexec, i-1)}, \vi_i) \csat \TtoOp{T}_{\aexec}(\txid_{i}) : \vi'_{i} \).
If there is no other transaction after \( \txid_i \) from the same client,
we pick \( \vi'_i = \getView(\aexec, \T_i) \) where \( \T_i = (\SO_\aexec^{-1})?(\txid_i) \),
so \( \ET_\RYW \vdash (\hh_{\cut(\aexec, i-1)}, \vi_i) \csat \TtoOp{T}_{\aexec}(\txid_{i}) : \vi'_{i} \).

\subsection{ \( \WFR \) }

The execution test $\ET_\MW$ is sound with respect to the axiomatic specification 
\( (\RP_{\LWW}, \{\lambda \aexec. \VIS_\aexec ; \PO_{\aexec} ; [Wt] ; \VIS_{\aexec} \})\),
where \( [Wt] \defeq \Setcon{(\txid, \txid)}{(\otW, \stub, \stub) \in \txid} \).
We pick the invariant as \( I( \aexec, \cl ) = \emptyset \), given the fact of no constraint on the view after update.
Assume a key-value store \( \mkvs \) and its corresponding abstract execution \( \aexec \) so that \( \mkvs = \mkvs_\aexec \).
Given an update on the key-value store that satisfies \( \WFR \), \ie \(\ET_\MW \vdash (\mkvs, \vi) \csat \f : \vi' \),
by the \cref{def:et_sound}, it remains to prove that for any set of read-only transaction \( \T_{\rd} \) there exists another set of read-only transactions \( \T_{\rd'} \) such that
\[
    \begin{array}{@{}l@{}}
        \fora{ \aexec', \txid, \txid' } 
        \aexec' = \extend(\aexec, \txid, \Tx(\mkvs, \vi) \cup \T_\rd \cup \T_{\rd'}, \f ) 
        \land (\txid' ,\txid)  \in \VIS_{\aexec'} ; (\PO_{\aexec'})? ; [Wt] ; \VIS_{\aexec'}   \\
    \qquad {} \implies \txid' \in \Tx(\mkvs, \vi) \cup \T_\rd \cup \T_{\rd'}
    \end{array}
\]
by closing the \( \Tx(\mkvs, \vi) \cup \T_\rd \) with respect to \(\VIS_{\aexec'} ; (\PO_{\aexec'})? ; [Wt] ; \VIS_{\aexec'} \)
we will add more read-only transactions into the set \( \T_{\rd'}\).
Suppose \( (\txid' ,\txid)  \in \VIS_{\aexec'} ; (\PO_{\aexec'})? ; [Wt] ; \VIS_{\aexec'} \), 
that is, \( \txid' \toEdge{\VIS_{\aexec'}} \txid'' \toEdge{\SO_{\aexec'}?} \txid''' \toEdge{\VIS_{\aexec'}} \txid \) for some transaction \( \txid''' \) that at least writes to a key.
Let consider whether \( \txid' \) is a read-only transaction.
If \( \txid' \) is a read only transaction.
We include the \( \txid' \) in the \( \T'_\rd \).
Assume is not a read-only transaction.
Because all visible transactions of \( \txid \) are included in the set \( \Tx(\mkvs, \vi) \cup \T_\rd \cup \T_{\rd'} \) and \( \txid''' \) writes at least a key, we have \( \txid''' \in \Tx(\mkvs, \vi) \).
It means that for any key \( \ke \) and index \( j \), \( \WTx(\mkvs(\ke, j))  = \txid''' \implies j \in \vi(\ke)\).
To recall, the execution test of \( \WFR \) says \( \txid'' \in \RTx(\hh(\ke', i)) \implies i \in \vi(\ke') \) for some key \( \ke' \) and index \( i \).
It means \( \WTx(\hh(\ke', i)) \in \Tx(\mkvs, \vi) \) thus \( \txid' \in \Tx(\mkvs, \vi) \).


The execution test $\ET_\WFR$ is complete with respect to the axiomatic specification 
\( (\RP_{\LWW}, \{\lambda \aexec. \VIS_\aexec ; (\PO_{\aexec})? ; [Wt] ; \VIS_{\aexec} \})\),
where \( [Wt] \defeq \Setcon{(\txid, \txid)}{(\otW, \stub, \stub) \in \txid} \).
Suppose that $\T_{\aexec} = \Set{\txid_{i}}_{i=1}^{n}$, and for any $i=1,\cdots, n-1$,
$\txid_{i} \xrightarrow{\AR_{\aexec}} \txid_{i+1}$.
Fix $i=1,\cdots,n$, and let a view $\vi_{i} = \getView(\aexec, \VIS^{-1}_{\aexec}(\txid_{i}))$.
It is sufficient to prove the following:
\[
    \ET_\WFR \vdash ( \mkvs_{\cut(\aexec, i-1)}, \vi_i ) \csat \TtoOp{T}_{\aexec}(\txid_{i}) : \vi'_{i}
\]
for some \( \vi'_i \) such that \( \vi' \subseteq (\AR^{-1}_\aexec)?(\txid_i) \).
By the abstract execution \( \aexec \), 
we know \( \txid' \in \VIS^{-1}_{\aexec}(\txid_{i}) \land (\txid', \txid) \in \VIS_\aexec ; \PO_{\aexec} ; [Wt] ; \VIS_{\aexec}  \implies \txid' \in \VIS^{-1}_{\aexec}(\txid_{i}) \) 
for some transactions \( \txid \) and \( \txid' \) where the former has at least one write. 
Given \( \txid \), any version written by \( \txid \) is included in the view, 
\ie \(  \WTx(\mkvs(\ke, i) ) = \txid \implies i \in \vi(\ke) \) for some key \( \ke \) and index \( i \).
Now there are two cases: \textbf{(i)} \( \txid' \) has no write and \textbf{(ii)} has write.
The first case does not affect \( \vi \).
For the second case, it means any version written by \( \txid' \) is included in \( \vi \).
Thus \( \txid'' \in \RTx( \mkvs(\ke', j) \land \txid'' \xrightarrow{\SO?}) \txid \implies j \in \vi(\ke') \), 
which is the execution test for \( \WFR \).
