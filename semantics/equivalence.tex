\section{Correctness of the Specifications.}
It remains to prove that our specifications given using execution tests 
capture the intended consistency models. 
In this section we relate the consistency models induced by execution tests with 
the axiomatic specifications of consistency models given in terms of abstract executions 
\cite{framework-concur,laws}. 

Abstract executions are a framework originally introduced in \cite{ev-transactions} 
to capture the run-time behaviour of clients interacting with a database. In this 
formalism, two relations between transactions are introduced: the first one, \emph{visibility}, 
establishes when a transaction observes the effects of another transaction; the 
second one,  \emph{arbitration}, is used to determine the value of a key $\ke$ read by 
a transaction, in the case that it observes multiple updates to $\ke$ performed by different 
transactions. 
\begin{definition}
\label{def:absexec}
An abstract execution is a triple $\aexec = (\TtoOp{T}, \VIS, \AR)$, where 
\begin{itemize}
\item $\TtoOp{T}: (\TxID \setminus \{\txid_0\}) \parfun \powerset{\Ops}$ is a partial, 
finite function mapping transaction identifiers to the set of operations that they perform,
\item $\VIS \subseteq \dom(\TtoOp{T}) \times \dom(\TtoOp{T})$ is an irreflexive relation, 
called \emph{visibility}, 
\item $\AR \subseteq \dom(\TtoOp{T}) \times \dom(\TtoOp{T})$ is a strict, total order 
such that $\VIS \subseteq \AR$, and whenever $\txid_{\cl}^{n} \xrightarrow{\AR} 
\txid_{\cl}^{m}$, then $n < m$.
\end{itemize} 
\end{definition}
Given an abstract execution $\aexec = (\TtoOp{T}, \VIS, \AR)$, we let 
$\TtoOp{T}_{\aexec} = \TtoOp{T}$, $\T_{\aexec} = \dom(\TtoOp{T})$, $\VIS_{\aexec} = \VIS$ 
and $\AR_{\aexec} = \AR$. We also let $\PO_{\aexec} = \{(\txid_{\cl}^{n}, \txid_{\cl}^{m} \mid \cl \in \Clients 
\wedge  \txid_{\cl}^{n} \in \T_{\aexec} \wedge \txid_{\cl}^{m} \in \T_{\aexec} \wedge n < m\}$. 
We also use the notation $\_ \in_{\aexec} \txid$ for $(\otR, \ke, \val) \in \TtoOp{T}_{\aexec}(\txid)$.
An abstract execution satisfies the \emph{last write win} policy if, whenever $(\otR, \ke, \val) \in_{\aexec} \txid$, 
then either $\val = \val_0$ or $(\otW, \ke, \val) \in_{\aexec} \txid'$, where $\txid' = 
\max_{\AR_{\aexec}}(\VIS_{\aexec}^{-1}(\txid))$.

In this framework, specifications of consistency models are given by placing \emph{axioms} that the 
arbitration and visibility relations of abstract executions must satisfy. Such axioms usually 
have the form $\mathscr{F}(\aexec) \subseteq \VIS_{\aexec}$, 
where $\mathscr{F}$ maps abstract executions into relations between transactions \cite{laws}. 
For example, let $[(\otW, \ke, \_)]_{\aexec} = \{(\txid, \txid) \mid (\otW, \ke, \_) \in \TtoOp{T}(\T_{\aexec}(\txid) \}$. 
Then (strong session) snapshot isolation can be described as the set of abstract executions $\aexec$ that 
satisfy the axioms $\PO_{\aexec} \subseteq \VIS_{\aexec}$, $\AR_{\aexec} ; \VIS_{\aexec} \subseteq \VIS_{\aexec}$, 
and for any key $\ke$, $[(\otW, \ke, \_)]_{\aexec} ; \AR_{\aexec} ; [(\otW, \ke, \_)]_{\aexec} \subseteq \VIS_{\aexec}$. 
Actual specifications of consistency models using this formalism are outside the scope of this article, and we 
refer the reader to \cite{laws} for a comprehensive list of axioms for specifying different consistency models.

In the same way dependency graphs are isomorphic to kv-stores, abstract executions that satisfy 
the last write win resolution policy are isomorphic 
to \emph{kv-traces}. These are sequences of the form 
\[ 
\conf_0 \xrightarrowtriangle{\_}_{\ET_{\bot}} \cdots \xrightarrowtriangle{\_}_{\ET_{\bot}} \conf_n.
\]
Let then $\aexec$ be an abstract execution that satisfies the last write win policy. We now show 
how to construct the kv-trace into $\KVtrace(\aexec)$.