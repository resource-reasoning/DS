%% For double-blind review submission, w/o CCS and ACM Reference (max submission space)
\documentclass[acmsmall,review,anonymous]{acmart}\settopmatter{printfolios=true,printccs=false,printacmref=false}
%% For double-blind review submission, w/ CCS and ACM Reference
%\documentclass[acmsmall,review,anonymous]{acmart}\settopmatter{printfolios=true}
%% For single-blind review submission, w/o CCS and ACM Reference (max submission space)
%\documentclass[acmsmall,review]{acmart}\settopmatter{printfolios=true,printccs=false,printacmref=false}
%% For single-blind review submission, w/ CCS and ACM Reference
%\documentclass[acmsmall,review]{acmart}\settopmatter{printfolios=true}
%% For final camera-ready submission, w/ required CCS and ACM Reference
%\documentclass[acmsmall]{acmart}\settopmatter{}


%% Journal information
%% Supplied to authors by publisher for camera-ready submission;
%% use defaults for review submission.
\acmJournal{PACMPL}
\acmVolume{1}
\acmNumber{CONF} % CONF = POPL or ICFP or OOPSLA
\acmArticle{1}
\acmYear{2018}
\acmMonth{1}
\acmDOI{} % \acmDOI{10.1145/nnnnnnn.nnnnnnn}
\startPage{1}

%% Copyright information
%% Supplied to authors (based on authors' rights management selection;
%% see authors.acm.org) by publisher for camera-ready submission;
%% use 'none' for review submission.
\setcopyright{none}
%\setcopyright{acmcopyright}
%\setcopyright{acmlicensed}
%\setcopyright{rightsretained}
%\copyrightyear{2018}           %% If different from \acmYear

%% Bibliography style
\bibliographystyle{ACM-Reference-Format}
%% Citation style
%% Note: author/year citations are required for papers published as an
%% issue of PACMPL.
\citestyle{acmauthoryear}   %% For author/year citations

\usepackage{wrapfig}

\newif\ifNonACMMode
\NonACMModefalse
\input{env.tex}
\usepackage{hhmacros}
\input{tikzsetting.tex}
\PassOptionsToPackage{svgnames}{xcolor}
\definecolor{DarkGreen}{rgb}{0, 0.5, 0}


%%%%%%%%%%%%%%%%%%%%%% edit mode
\newif\ifCommentEdits
%\CommentEditstrue

\input{comment-box.tex}
%%%%%%%%%%%%%%%%%%%%%% end edit mode


%% Journal information
%% Supplied to authors by publisher for camera-ready submission;
%% use defaults for review submission.
\acmJournal{PACMPL}
\acmVolume{1}
\acmNumber{CONF} % CONF = POPL or ICFP or OOPSLA
\acmArticle{1}
\acmYear{2018}
\acmMonth{1}
\acmDOI{} % \acmDOI{10.1145/nnnnnnn.nnnnnnn}
\startPage{1}

%% Copyright information
%% Supplied to authors (based on authors' rights management selection;
%% see authors.acm.org) by publisher for camera-ready submission;
%% use 'none' for review submission.
\setcopyright{none}
%\setcopyright{acmcopyright}
%\setcopyright{acmlicensed}
%\setcopyright{rightsretained}
%\copyrightyear{2018}           %% If different from \acmYear

%% Bibliography style
\bibliographystyle{ACM-Reference-Format}
%% Citation style
%% Note: author/year citations are required for papers published as an
%% issue of PACMPL.
\citestyle{acmauthoryear}   %% For author/year citations

\begin{document}



%% Title information
\title{
	Towards a Formal Theory of Clients of Distributed Key-value Stores
    %Operational Semantics and Logic for Weak Consistency in Transactional Systems%
    %: a Multi-version Based Operational Approach
    } 
                                        %% [Short Title] is optional;
                                        %% when present, will be used in
                                        %% header instead of Full Title.
%\titlenote{with title note}             %% \titlenote is optional;
%                                        %% can be repeated if necessary;
%                                        %% contents suppressed with 'anonymous'
%\subtitle{Subtitle}                     %% \subtitle is optional
%\subtitlenote{with subtitle note}       %% \subtitlenote is optional;
                                        %% can be repeated if necessary;
                                        %% contents suppressed with 'anonymous'


%% Author information
%% Contents and number of authors suppressed with 'anonymous'.
%% Each author should be introduced by \author, followed by
%% \authornote (optional), \orcid (optional), \affiliation, and
%% \email.
%% An author may have multiple affiliations and/or emails; repeat the
%% appropriate command.
%% Many elements are not rendered, but should be provided for metadata
%% extraction tools.

%% Author with single affiliation.
\author{Shale Xiong}
%\authornote{with author1 note}          %% \authornote is optional;
                                        %% can be repeated if necessary
%\orcid{nnnn-nnnn-nnnn-nnnn}             %% \orcid is optional
\affiliation{
  \position{Ph.D. Student}
  \department{Department of Computing}              %% \department is recommended
  \institution{Imperial College London}            %% \institution is required
  \streetaddress{Huxley Building}
  \city{London}
  \state{}
  \postcode{SW7 2AZ}
  \country{United Kingdom}                    %% \country is recommended
}
\email{shale.xiong14@imperial.ac.uk}          %% \email is recommended

%% Author with single affiliation.
\author{Andrea Cerone}
%\authornote{with author1 note}          %% \authornote is optional;
                                        %% can be repeated if necessary
%\orcid{nnnn-nnnn-nnnn-nnnn}             %% \orcid is optional
\affiliation{
  \position{Research Associate}
  \department{Department of Computing}              %% \department is recommended
  \institution{Imperial College London}            %% \institution is required
  \streetaddress{Huxley Building}
  \city{London}
  \state{}
  \postcode{SW7 2AZ}
  \country{United Kingdom}                    %% \country is recommended
}
\email{a.cerone@imperial.ac.uk}          %% \email is recommended

\author{Azalea Raad}
%\authornote{with author1 note}          %% \authornote is optional;
                                        %% can be repeated if necessary
%\orcid{nnnn-nnnn-nnnn-nnnn}             %% \orcid is optional
\affiliation{
  \position{Post-doctoral Researcher}
  \department{}              %% \department is recommended
  \institution{Max Planck Institute}            %% \institution is required
  \streetaddress{no idea}
  \city{Kaiserslautern}
  \state{-}
  \postcode{-}
  \country{Germany}                    %% \country is recommended
}
\email{a.raad@mpi-sws.org}          %% \email is recommended

%% Author with single affiliation.
\author{Philippa Gardner}
%\authornote{with author1 note}          %% \authornote is optional;
                                        %% can be repeated if necessary
%\orcid{nnnn-nnnn-nnnn-nnnn}             %% \orcid is optional
\affiliation{
  \position{Professor}
  \department{Department of Computing}              %% \department is recommended
  \institution{Imperial College London}            %% \institution is required
  \streetaddress{Huxley Building}
  \city{London}
  \state{-}
  \postcode{SW7 2AZ}
  \country{United Kingdom}                    %% \country is recommended
}
\email{p.gardner@imperial.ac.uk}          %% \email is recommended

\begin{abstract}
Modern NoSQL databases (e.g. key-value stores) achieve scalability and improve 
latency by weakening the guarantees of distributed transaction 
processing. While the problem of giving a formal specification of 
the consistency models used by such databases has been widely 
studied, formalising the semantics of clients interacting with 
such systems has been largely neglected$^\ast$. 
This paper aims to be a 
first step towards filling this gap. We present a framework 
for capturing the semantics of programs interacting with a 
weakly consistent key-value store whose transactions enjoy atomic visibility. 
The main features of our semantics can be summarised as follows: 
atomic transaction processing, interleaving concurrency, 
and parameterisation with respect to the consistency model.  
%The latter is captured using the notion of execution tests, which 
%determine when a transaction is allowed  to execute. 
As a main contribution, we prove that our semantics is adequate 
(for each program and consistency model, the semantics captures 
precisely the behaviour that the program exhibits under said consistency model), 
and that specifications of consistency models in our framework 
coincide with previously proposed, axiomatic ones.
%via execution 
%tests are equivalent to the axiomatic specifications which have already 
%been proved to be correct.
As another contribution, we develop a variant of the \emph{Concurrent 
Abstract Predicates} separation logic
%development 
%of a separation logic for clients of key-value stores. We propose 
%a variant of the \emph{Concurrent Abstract Predicates} 
that is tailored to clients of weakly-consistent key-value stores, 
and that is parametric in the specification of consistency models.
%and a multi-version 
%representation of the key-value store to allow concurrent clients to 
%observe different states of the system.  
%We abstract from implementation details of the key-value store, which 
%is represented as a centralised, multi-version system. This allows 
%for concurrent clients to observe different version of the same key, 
%which makes it possible to capture non-serialisable behaviours of 
%programs while still retaining the atomic execution of transactions and 
%interleaving concurrency. 
%Furthermore, our semantics is parameterised by execution tests, which determine 
%when a transaction is allowed to execute.  By changing the execution 
%test of transactions, we capture different consistency models.

\textbf{$^\ast$ Suresh is going to be pissed off a lot by this sentence, but 
let's be honest, his semantics is light years behind ours.}
\ac{The abstract is wayyyy too long. But at least we have a guideline for the paper.}

%We present a a uniform semantics 
%Contents of this set of notes: 
%History heaps. Semantics of Programs 
%running under weak consistency models using history heaps as states. 
%Simulation technique for comparing weak consistency models defined using 
%history heaps. Verification of implementations.
%\textbf{Points following Dagstuhl: Viktor seemed positive about the 
%history heap work. His question was whether the framework is generic 
%enough to capture the protocols that they are developing with Azalea. 
%Alexey's opinion is that the framework may have some use if we 
%manage to prove implementations of protocols correct. 
%I would also like to have Azalea's opinion on a semantics based 
%on history heaps.}
\end{abstract}


%% 2012 ACM Computing Classification System (CSS) concepts
%% Generate at 'http://dl.acm.org/ccs/ccs.cfm'.
\begin{CCSXML}
<ccs2012>
<concept>
<concept_id>10011007.10011006.10011008</concept_id>
<concept_desc>Software and its engineering~General programming languages</concept_desc>
<concept_significance>500</concept_significance>
</concept>
<concept>
<concept_id>10003456.10003457.10003521.10003525</concept_id>
<concept_desc>Social and professional topics~History of programming languages</concept_desc>
<concept_significance>300</concept_significance>
</concept>
</ccs2012>
\end{CCSXML}

\ccsdesc[500]{Software and its engineering~General programming languages}
\ccsdesc[300]{Social and professional topics~History of programming languages}
%% End of generated code


%% Keywords
%% comma separated list
\keywords{keyword1, keyword2, keyword3}  %% \keywords are mandatory in final camera-ready submission


%% \maketitle
%% Note: \maketitle command must come after title commands, author
%% commands, abstract environment, Computing Classification System
%% environment and commands, and keywords command.

\maketitle

\azalea{I have imported the cleveref package! This means that all reference will be printed consistently and we DO NOT need custom names such as \textbackslash fig etc.
Every time you need to refer to something, please write\textbackslash cref\{label\}, \eg \cref{def:mkvs}, and the label (\eg Def.) will be printed correctly. 
These labels can be customised. I have introduced the necessary ones in the macros file. 
}
\newcommand{\RootPath}{.}
\input{intro.tex}
\input{semantics.tex}
\input{logic.tex}
\input{example.tex}

\bibliography{bibliography,bibliography2}

%\newpage
%\appendix
%\input{./formal_def/proof_of_semantics.tex}
%\newpage
%\input{./formal_def/alternative.tex}
\end{document}
