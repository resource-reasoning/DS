\begin{figure*}[t]
\centering
\captionsetup[subfigure]{aboveskip=-5pt, belowskip=0pt}
\begin{tabularx}{\textwidth}{@{} c | c |  c | c  | X@{}}
\hline
\phantom{-}& \phantom{-}& \phantom{-}& \phantom{-}\\[-5pt]
\begin{subfigure}{0.16\textwidth}
\centering
\begin{centertikz}
%Location x
\node(locx) {$\key \mapsto$};
\draw pic at ([xshift=\tikzkvspace]locx.east) {vlist={versionx}{%
    /0/\txid_0/\emptyset
}};

\end{centertikz}
\caption{Initial state}
\label{fig:counter_kv_initial}
\end{subfigure}
&
\begin{subfigure}{0.16\textwidth}
\begin{centertikz}

%Location x
\node(locx) {$\key \mapsto$};
\draw pic at ([xshift=\tikzkvspace]locx.east) {vlist={versionx}{%
    /0/\txid_0/\Set{\txid}
    , /1/\txid/\emptyset
}};

\end{centertikz}
\caption{the kv-store after \(\txid \)}
\label{fig:counter_kv_first_inc}
\end{subfigure}
&
\begin{subfigure}{0.16\textwidth}
\begin{centertikz}

%Location x
\node(locx) {$\key \mapsto$};
\draw pic at ([xshift=\tikzkvspace]locx.east) {vlist={versionx}{%
    fillbg/0/\txid_0/\Set{\txid}
    , /1/\txid/\emptyset
}};

\end{centertikz}
\caption{A view of \( \cl_2 \) with the initialisation version}
\label{fig:counter_kv_view}
\end{subfigure} 
&
\begin{subfigure}{0.16\textwidth}
\begin{centertikz}

%Location x
\node(locx) {$\key \mapsto$};
\draw pic at ([xshift=\tikzkvspace]locx.east) {vlist={versionx}{%
    fillbg/0/\txid_0/\Set{\txid}
    , fillbg/1/\txid/\emptyset
}};

\end{centertikz}
\caption{A view of \( \cl_2 \) with both versions}
\label{fig:counter_kv_view_all}
\end{subfigure} 
&

\begin{subfigure}{0.23\textwidth}
\begin{centertikz}
    
\node(locx) {$\key \mapsto$};
\draw pic at ([xshift=\tikzkvspace]locx.east) {vlist={versionx}{%
    /0/\txid_0/\Set{\txid,\txid'}
    , /1/\txid/\emptyset
    , /1/\txid'/\emptyset
}};

\end{centertikz}%
\caption{\emph{lost update}: given view in \cref{fig:counter_kv_view_all},
the kv-store after \( \txid' \)}
\label{fig:counter_kv_final}
%\label{fig:ua-disallowed}
\end{subfigure}\\
\hline
\end{tabularx}
\caption{Lot update anlmoly: single counder. 
%Example centralised key-value stores
%(\subref{fig:counter_kv_initial}, \subref{fig:counter_kv_first_inc},
%\subref{fig:counter_kv_final}) and client views
%(\subref{fig:counter_kv_view},\subref{fig:counter_kv_view_all})
}
\end{figure*}
