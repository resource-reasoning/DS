\section{Conclusions and Related Work}
\label{sec:conclusions}
We have introduced  an  operational semantics for 
transactional distributed databases, based on a global, centralised 
kv-store and partial client views. 
Our semantics is parametric in the definition of an execution test.
We capture a large variety of well-known consistency models 
for distributed databases by changing  the execution tests. 
We have proved the correctness of two real-world protocols employed by distributed 
databases: COPS~\cite{cops}, a 
protocol for replicated databases that satisfies our definition of causal consistency;
and Clock-SI~\cite{clocksi}, a protocol for partitioned databases that satisfies our
definition of 
snapshot isolation. We have also demonstrated the usefulness of our framework
for program analysis, by proving the robustness of simple transactional 
libraries against different consistency models. We believe that we are
the first to show such  results for  databases which  allow
the grouping of  transactions into sessions. 

In future, we plan to validate further the usefulness of our framework
by verifying the correctness of other well-known protocols employed by
distributed databases, such as Eiger~\cite{eiger}, Wren~\cite{wren} and
Red-Blue~\cite{redblue}; by exploring robustness results for OLTP
workloads  such as TPC-C~\cite{tpcc} and RUBiS~\cite{rubis};
and by exploring other program-analysis techniques such as
transactional chopping \cite{chopping,psi-chopping}, invariant checking 
\cite{cise,repliss} and program logics \cite{alonetogether}. 

\mypar{Related Work} 

\citeN{alonetogether} proposed an operational semantics of programs 
under different transactional consistency models \cite{alonetogether}, 
corresponding to the ANSI/SQL isolation levels \cite{si}.
In their  framework, transactions work on a local copy of the global state 
of the system, and the local effects of a transaction are pushed as 
system state changes upon commit. Because state changes 
are made immediately available to all clients of a system, this model 
is not suitable to capture weak consistency models such as \(\PSI\) or \(\CC\). 
Also, the definitions given are not validated against previously known 
formal definitions.

\citeN{sureshConcur} proposed an operational semantics for weak consistency 
based on abstract executions. Their semantics 
is parametric in the declarative definition of a consistency model. Because 
in their model abstract executions are not equipped with sessions, they cannot 
specify a large variety of consistency models as we do, such as the session guarantees. 
The authors also present a static analysis tool for determining the robustness of transactional 
libraries; however, their robustness results rely on the assumption that the underlying database 
is not equipped with sessions. Because the session order cannot be determined at compile time, 
their tool cannot be easily extended to a setting where sessions are provided by the database. 

\citeN{seebelieve} proposed a state-based formal framework for weak consistency models, 
that also employs notions similar to execution tests and views: commit tests and read states.
On one side, the authors capture 
a greater range of consistency models that we do (in particular, the Read Committed isolation level), 
and they also exploit their formalism to verify the correctness of protocols.
However, they do not consider program analysis. Because their notion of commit tests and read states requires 
the knowledge of information that cannot be determined at compile time, i.e. the total order of system changes that happened in the database 
we believe that their framework is not suitable for the development of program analysis techniques.

Several other works have focused on program analsysis for transactional systems. 
%Concerning robustness, 
\citeN{dias-tm} developed a separation logic for
the robustness of applications under SI. \citeN{fekete-tods} derived 
a static analysis check for SI based on dependency graph. \citeN{giovanni_concur16}
developed a static analysis check for several consistency models with atomic visibility. 
\citeN{laws} investigated the relationship between abstract 
executions and dependency graph from an algebraic perspective, and applied it to infer 
robustness checks for several consistency models. 

