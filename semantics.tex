\section{Semantics}
\label{sec:semantics}

\sx{program vs transaction}
We focus on an abstract computational model for database where multiple client programs can access and update addresses in a key-value store through atomic transactions. 
Transactions in our model execute atomically, though they have different effect on the key-value stores depending on the consistency model that does not necessarily correspond to \emph{serialisability}. 
This means that, at the moment of executing, a transaction may not observe the most up-to-date values of keys. 

To overcome this issue, we model the state of the system using \emph{multi-version key-value stores (MKVSs)}. 
It keeps track of all the versions written for any key, as well as the information about the transactions that read and wrote such versions. 
To model the potential out-of-date observation, we intrude \emph{views}.
A view decides the observable versions of keys for a client.
When a client want to commit a transaction, it first takes a snapshot of the system with the view, and afterwards it commits the effect of the transaction if the change is allowed by the consistency model.


%We first introduce MKVSs and views (\secref{sec:mkvs-view}) and.
%We starts with the syntax of programs followed by the semantics of transaction.
%Finally, we will give the semantics for the entire programs.


\input{./semantics/database-view.tex}
\input{./semantics/trans.tex}
\input{./semantics/prog.tex}
\input{./semantics/example.tex}
