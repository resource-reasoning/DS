%**********************************************************************************************************************************
% Note: this file is shared between several documents, please do not delete any macros.
% Maintained by Shale Xiong <sx14@ic.ac.uk>
%**********************************************************************************************************************************
\RequirePackage{cleveref}
\RequirePackage{mathpartir}

%**********************************************************************************************************************************
% Styles and Short-hand
%**********************************************************************************************************************************
% Text & typesetting
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\rl}[1]{\textsc{#1}}
\newcommand{\sort}[1]{\protect\scalebox{0.9}{\textsc{#1}}}
\newcommand{\predFont}[1]{\ensuremath{\mathtt{#1}}}
\newcommand{\funcFont}[1]{\ensuremath{\mathsf{#1}}}
\newcommand{\codeFont}[1]{\texttt{#1}}
\newcommand{\commentFont}[1]{\texttt{#1}}
\newcommand{\qqquad}{\qquad\quad}
\newcommand{\qqqquad}{\qquad\qquad}
\newenvironment{rclarray}[1][]{%
    \begin{array}[#1]{@{}r@{\ } c @{\ } l@{}}
}{%
    \end{array}
}
\newcommand{\halfMath}[1]{\scalebox{.5}{\(#1\)}}
\newcommand{\V}[1]{\textsc{\lowercase{#1}}} % for logically expression
\newcommand{\CB}[1]{\texttt{#1}} % for permission
\newenvironment{parl}{%
    \begin{array}{@{}c || c@{}}
}{%
    \end{array}
}
\newenvironment{session}{%
    \begin{array}{@{}c@{}}
}{%
    \end{array}
}
\newenvironment{formulea}{%
    \left(
    \begin{array}{@{}l@{}}
}{%
    \end{array}
    \right)
}
\newenvironment{B}{%
    \left(
    \begin{array}{@{}l@{}}
}{%
    \end{array}
    \right)
}
\newenvironment{halfsubfig}{%
    \begin{subfigure}{0.3\textwidth}
}{%
    \end{subfigure}
}
\newenvironment{centertikz}{%
    \begin{center}%
    \begin{tikzpicture}[font=\large]%
}{%
    \end{tikzpicture}%
    \end{center}%
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Define Block
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\newcommand{\defin}{\text{Def.}}
%\newcommand{\defref}[1]{\defin \xspace \ref{#1}}
%\newcommand{\fig}{\text{Fig.}}
%\newcommand{\figref}[1]{\fig \xspace \ref{#1}}
%\newcommand{\tabin}{\text{Table}}
%\newcommand{\tabref}[1]{\tabin \xspace \ref{#1}}
%\newcommand{\thmin}{\text{Theorem}}
%\newcommand{\thmref}[1]{\thmin \xspace \ref{#1}}
%\newcommand{\equin}{\text{Eq.}}
%\newcommand{\equref}[1]{\equin \xspace \eqref{#1}}
%\newcommand{\lemin}{\text{Lemma}}
%\newcommand{\lemref}[1]{\lemin \xspace \ref{#1}}
%\newcommand{\secin}{\text{Section}}
%\newcommand{\secref}[1]{\secin \xspace \ref{#1}}
%\crefformat{def}{#2Def.~#1#3}
%\Crefformat{definition}{#2Def.~#1#3}

\crefname{section}{\S\!}{\S\!}
\crefname{subsection}{\S\!}{\S\!}
\crefname{subsubsection}{\S\!}{\S\!}

\crefname{definition}{Def.}{Defs.}
\crefname{figure}{Fig.}{Figs.}
\crefname{lemma}{Lemma}{Lemmas}
\crefname{theorem}{Theorem}{Theorems}
\crefname{equation}{Eq.}{Eqs.}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Writing Short-hand
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\case}[2]{\noindent\textbf{#1} {#2}. }
\newcommand{\caseB}[1]{\case{Base Case}{#1}}
\newcommand{\caseI}[1]{\case{Inductive Case}{#1}}
\newcommand{\ih}{I.H.\xspace}
\newcommand{\ie}{\textnormal{i.e.}\xspace}
\newcommand{\eg}{\textnormal{e.g.}\xspace}


%**********************************************************************************************************************************
% Programming Language
%**********************************************************************************************************************************
\newcommand{\Expressions}{\sort{Expr}}
\newcommand{\Expr}{\Expressions}
\newcommand{\expr}{\codeFont{E}}
\newcommand{\Booleans}{\sort{Bool}}
\newcommand{\bool}{\mathbb{B}}
\newcommand{\true}{\texttt{true}}
\newcommand{\ttrue}{\true}
\newcommand{\false}{\texttt{false}}
\newcommand{\ffalse}{\false}
\newcommand{\boolnot}{\texttt{not}~}
\newcommand{\booland}{\mathbin{\texttt{and}}}
\newcommand{\boolor}{\mathbin{\texttt{or}}}
\newcommand{\Stacks}{\sort{Stacks}}
\newcommand{\ret}{\pvar{ret}}
\newcommand{\stack}{s}
\newcommand{\lret}{\pvar{lret}}
\newcommand{\stk}{\stack}
%\newcommand{\Addr}{\sort{Addr}}
%\newcommand{\Loc}{\Addr}
%\newcommand{\addr}{a}
%\newcommand{\loc}{\addr}
\newcommand{\Val}{\sort{Val}}
\newcommand{\val}{v}
\newcommand{\Vars}{\sort{Vars}}
\newcommand{\Var}{\Vars}
\newcommand{\var}{\pvar{x}}
\newcommand{\Commands}{\sort{Cmd}}
\newcommand{\cmd}{\codeFont{C}}
\newcommand{\pskip}{\mathtt{skip}}
\newcommand{\pvar}[1]{\codeFont{#1}}
\newcommand{\pv}[1]{\pvar{#1}}
\newcommand{\pass}[2]{#1:=#2}
\newcommand{\passign}[2]{#1:=#2}
\newcommand{\pmutate}[2]{[#1]:=#2}
\newcommand{\pderef}[2]{#1:=[#2]}
\newcommand{\plookup}[2]{\pderef{#1}{#2}}
\newcommand{\palloc}[2]{#1 \codeFont{\ :=\ } \codeFont{alloc}(#2)}
\newcommand{\passume}[1]{\codeFont{assume}(#1)}
\newcommand{\preturn}[1]{\codeFont{return}(#1)}
\newcommand{\pseq}{\mathbin{;}}
\newcommand{\pchoice}{\mathbin{+}}
\newcommand{\prepeat}{^{*}}
\newcommand{\ppar}{\mathbin{\|}}
\newcommand{\pifs}[1]{\codeFont{if} \, (#1) \{}
\newcommand{\pifm}{\} \codeFont{else}\{ }
\newcommand{\pife}{\}}
\newcommand{\pif}[3]{\pifs{#1} \  #2 \  \pifm \  #3 \pife}
\newcommand{\ploops}[1]{\codeFont{while} \, (#1) \{ }
\newcommand{\ploope}[1]{\}}
\newcommand{\ploop}[2]{\ploops{#1} #2 \ploope}


%**********************************************************************************************************************************
% Programming Logic in general
%**********************************************************************************************************************************
% Assertion and triple
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\pre}{P}
\newcommand{\post}{Q}
\newcommand{\fra}{R}
\newcommand{\triple}[3]{ %
    \left\{ \begin{array}{@{}l@{}} #1 \end{array} \right\}%
    \ #2 \ %
    \left\{ \begin{array}{@{}l@{}} #3 \end{array} \right\}%
}
\newcommand{\tripleEnv}[5]{%
#1 \vdash_{#2} %
    \begin{array}{@{}l@{}} %
    \triple{#3}{#4}{#5} %
    \end{array}%
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Rely-Guarantee Interference Token
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\guar}{\mathit{g}}
\newcommand{\rely}{\mathit{r}}
\newcommand{\Rely}{{\mathcal R}}
\newcommand{\Guar}{{\mathcal G}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Sketch proof
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\sep}{\mathbin{*}}
\newcommand{\pointsto}{\mapsto}
\newcommand{\asstrue}{\textnormal{true}}
\newcommand{\True}{\asstrue}
\newcommand{\assfalse}{\textnormal{false}}
\newcommand{\False}{\assfalse}
\newcommand{\assemp}{\textnormal{emp}}
\newcommand{\emp}{\assemp}
\newcommand{\Emp}{\assemp}
\newcommand{\specline}[1]{ { \color{blue} \left\{ \begin{array}{@{}l@{}} #1 \end{array} \right\}} }
%\newcommand{\comment}[1]{ \commentFont{\color{gray}// #1} }
\newcommand{\actionline}[2]{ { \color{red} #1 : \left. \begin{array}{@{}l@{}} #2 \end{array} \right.} }
\newcommand{\pt}{\pointsto}
\newcommand{\cell}[2]{#1 \pt #2}
\newcommand{\twocell}[3]{#1 \pt #2, #3}
\newcommand{\threecell}[4]{#1 \pt #2, #3, #4}

%**********************************************************************************************************************************
%maths
%**********************************************************************************************************************************
% General notations
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\stub}{-}
\newcommand{\anyval}{\_}
\renewcommand{\for}[1]{\forall #1 \ldotp}
\newcommand{\fora}[1]{\for{#1}}
\newcommand{\exsts}[1]{\exists #1 \ldotp}
\newcommand{\isundef}{\uparrow}
\newcommand{\isdef}{\downarrow}
\newcommand{\iffdef}{\ensuremath{\stackrel{\textnormal{def}}{\Longleftrightarrow}}}
\newcommand{\defiff}{\iffdef}
\newcommand{\defeq}{\triangleq}
\newcommand{\eqdef}{\defeq}
\newcommand{\Nat}{\mathbb{N}}
\newcommand{\nat}{n}
\newcommand{\Real}{\mathbb{R}}
\newcommand{\Set}[1]{\left\{\begin{array}{@{}l@{}} #1 \end{array}\right\}}
\newcommand{\Setcon}[2]{\myset{#1}{#2} }
\newcommand{\myset}[2]{
	\left\{
	\begin{array}{@{} l | l @{}}
		\begin{array}{@{} l @{}}
			#1
		\end{array}
		& 
		\begin{array}{@{} l @{}}
			#2
		\end{array}
	\end{array}
	\right\}
}
\newcommand{\setcomp}[2]{\myset{#1}{#2}}
\newcommand{\List}[1]{\left[ #1 \right]}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Operators and Elements
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\DeclareMathOperator{\dom}{dom}
\newcommand{\remapsto}[2]{{\left[#1 \mapsto #2\right]}}
\newcommand{\rmto}[2]{\remapsto{#1}{#2}}
\newcommand{\powerset}[1]{\mathcal{P}\left(#1\right)}
\newcommand{\pset}[1]{\powerset{#1}}
\newcommand{\parfun}{\rightharpoonup}
\newcommand{\parfinfun}{\overset{\halfMath{fin}}{\rightharpoonup}}
\newcommand{\compose}[1][]{\bullet_{#1}}
\newcommand{\denote}[1]{\left\llbracket #1 \right\rrbracket}
\newcommand{\eval}[2]{\denote{#1}_{#2}}
\newcommand{\projection}[1]{\!\!\downharpoonright_{#1}}
\newcommand{\flatten}[2][]{\left\lfloor #2 \right\rfloor_{#1}}
\newcommand{\erase}[2][]{\llfloor #2 \rrfloor_{#1}}
\newcommand{\clps}[2][]{\erase[#1]{#2}}
\newcommand{\lift}[2][]{\ensuremath{\llceil #2 \rrceil_{#1}}}
\newcommand{\orth}[1]{{#1}^{\bot}}
\newcommand{\ord}[1][]{\sqsubseteq_{#1}}
\newcommand{\closure}[1]{{#1}^{*}}
\newcommand{\transfersto}[1][]{\mathbin{\leadsto_{#1}}}
\newcommand{\tsfto}[1][]{\transfersto[#1]}
\newcommand{\sub}[2]{\left[ \sfrac{#2}{#1} \right]}
\newcommand{\unitelem}[1][]{\textbf{1}_{#1}}
\newcommand{\btm}[1][]{\perp_{#1}}
\newcommand{\lcat}{\mathbb{+\!\!+}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Function and predication
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\funcn}[1]{\funcFont{#1}}
\newcommand{\func}[2]{\funcn{#1}\left(#2\right)}
\newcommand{\predn}[1]{\predFont{#1}}
\newcommand{\pred}[2]{\predn{#1}\left(#2\right)}
\newcommand{\wfName}[1][]{\predn{wf}_{#1}}
\newcommand{\wf}[2][]{\pred{\wfName[#1]}{#2}}



%**********************************************************************************************************************************
% For abstract execution semantics
%**********************************************************************************************************************************
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Programming language 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Thread Env for operation sematics
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\ThdEnv}{\sort{CEnv}}
\newcommand{\thdenv}{Env}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Transactions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\TxID}{\sort{TransID}}
\newcommand{\TransID}{\sort{TransID}}
\newcommand{\Tx}{\sort{Tx}}
\newcommand{\txid}{t}
\newcommand{\txidset}{\mathcal{T}}
\newcommand{\tsid}{\txid}
\newcommand{\settrans}{\mathcal{T}}
\newcommand{\tx}{\mathcal{T}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Threads and client
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\ClientID}{\sort{ClientID}}
\newcommand{\Clients}{\ClientID}
\newcommand{\ThreadID}{\ClientID}
\newcommand{\client}{\ensuremath{\mathrm{cl}}}
\newcommand{\cl}{\client}
\newcommand{\thid}{\client}
\newcommand{\setclient}{\ensuremath{CL}}
\newcommand{\setthid}{\setclient}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Expressions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\evalE}[2][\stk]{\eval{#2}{#1}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Syntax Transactions & Programs 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\Transactions}{\sort{Trans}}
\newcommand{\trans}{\codeFont{T}}
\newcommand{\transpri}{\trans_{p}}
\newcommand{\cmdpri}{\cmd_{p}}
\newcommand{\Programs}{\sort{Prog}}
\newcommand{\prog}{\codeFont{P}}
\newenvironment{transaction}{%
    \left\lbrack%
    \begin{array}{@{}l@{}}
}{%
    \end{array}%
    \right\rbrack
}
\newcommand{\ptrans}[1]{%
    \begin{transaction} #1 \end{transaction}%
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Labels for semantics 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\Translabel}{\sort{Label}}
\newcommand{\translabel}{\iota}
\newcommand{\lb}{\translabel}
\newcommand{\lbRELY}{{\texttt{rely}}}
\newcommand{\lbID}{{\texttt{id}}}
\newcommand{\lbV}{{\texttt{VShift}}}
\newcommand{\lbF}[1]{\texttt{fork}(#1)}
\newcommand{\lbC}[1]{\texttt{cmt}(#1)}
\newcommand{\lbJ}[1]{\texttt{join}(#1)}
\newcommand{\lbS}[1]{\texttt{st}(#1)}
\newcommand{\lbRS}[1]{\texttt{rst}(#1)}
\newcommand{\setlabels}{\mathcal{L}}
\newcommand{\ExtTranslabel}{\sort{EXLabel}}
\newcommand{\Fingerprint}{\sort{FingerPrint}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% snapshots
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\Snapshots}{\sort{Snapshot}}
\newcommand{\Heaps}{\Snapshots}
\newcommand{\snapshot}{\funcn{snapshot}}
\newcommand{\clpsHH}[1]{\snapshot(#1)}
\newcommand{\getSN}[1]{\snapshot(#1)}
\newcommand{\sn}{\mathit{ss}}
\renewcommand{\ss}{\sn}
\newcommand{\h}{\sn}
\newcommand{\hset}{\mathit{H}}
\newcommand{\composeH}{\compose[\h]}
\newcommand{\unitH}{\unitelem[\h]}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% version, mkvs, and views
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\Keys}{\sort{Keys}}
\newcommand{\Addr}{\Keys}
\newcommand{\Loc}{\Addr}
\newcommand{\addr}{\ke}
\newcommand{\loc}{\ke}
\newcommand{\ke}{k}
\newcommand{\MKVSs}{\ensuremath{\sort{KVstores}}}
\newcommand{\Hheaps}{\MKVSs}
\newcommand{\HisHeaps}{\Hheaps}
\newcommand{\mkvs}{\ensuremath{\mathcal{K}}}
\newcommand{\hh}{\mkvs}
%\newcommand{\hh}{\mathcal{H}}
\newcommand{\valueOf}{\funcn{value}}
\newcommand{\WTx}{\ensuremath{\funcn{write}}}
\newcommand{\RTx}{\ensuremath{\funcn{reads}}}
\newcommand{\hhset}{\mathbb{H}}
\newcommand{\hhV}{\mathcal{H}^{\mathtt{v}}}
\newcommand{\hhW}{\mathcal{H}^{\mathtt{w}}}
\newcommand{\hhR}{\mathcal{H}^{\mathtt{r}}}
\newcommand{\composeHH}{\compose[\halfMath{\hh}]}
\newcommand{\unitHH}{\unitelem[\halfMath{\hh}]}
\newcommand{\Versions}{\sort{Versions}}
\newcommand{\nexttxid}[1]{\func{nextTxid}{#1}}
\newcommand{\fresh}[1]{\nexttxid{#1}}
%\newcommand{\Versions}{\ensuremath{\sort{Versions}}}
%\newcommand{\version}{\vartheta}
\newcommand{\ver}{\nu}
\newcommand{\vi}{u}
%\newcommand{\view}{\vi}
%\newcommand{\view}{\ensuremath{V}}
\newcommand{\Views}{\sort{Views}}
\newcommand{\viewSet}{\Views}
\newcommand{\viewFun}{\ensuremath{\mathcal{U}}}
\newcommand{\viset}{\mathcal{U}}
\newcommand{\visetset}{\mathbb{U}}
\newcommand{\wfV}[1]{\pred{wfV}{#1}}
\newcommand{\orderVI}{\leq}
\newcommand{\composeVI}{\compose[\vi]}
\newcommand{\unitVI}{\unitelem[\vi]}
\newcommand{\HHupdate}{\funcn{UpdateMKVS}}
\newcommand{\Vupdate}{\funcn{UpdateView}}
\newcommand{\updHH}[1]{\func{\HHupdate}{#1}}
\newcommand{\updM}[1]{\updHH{#1}}
\newcommand{\updV}[1]{\func{\Vupdate}{#1}}
\newcommand{\Confs}{\sort{Confs}}
\newcommand{\conf}{\ensuremath{\Gamma}}
\newcommand{\wfC}[1]{\pred{wfC}{#1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% consistency models
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\ETS}{\ensuremath{\sort{ET}}}
\newcommand{\Como}{\ETS}
\newcommand{\ET}{\ensuremath{\mathsf{ET}}}
\newcommand{\et}{\ET}
\newcommand{\como}{\et}
\newcommand{\etto}[1][\et]{\triangleright_{#1}}
\newcommand{\csat}[1][\et]{\etto[#1]}
\newcommand{\CM}{\ensuremath{\mathsf{CM}}}
\newcommand{\comoP}{\mathsf{P}}
\newcommand{\comoRA}{\mathsf{RA}}
\newcommand{\comoUA}{\mathsf{UA}}
\newcommand{\csatP}{\csat[\top]}
\newcommand{\csatRA}{\csat[\mathsf{RA}]}
\newcommand{\csatCC}{\csat[\mathsf{CC}]}
\newcommand{\csatUA}{\csat[\mathsf{UA}]}
\newcommand{\csatRYW}{\csat[\mathsf{RYW}]}
\newcommand{\csatMONOW}{\csat[\mathsf{MW}]}
\newcommand{\csatMW}{\csatMONOW}
\newcommand{\csatWFR}{\csat[\mathsf{WFR}]}
\newcommand{\etP}{\mathsf{P}}
\newcommand{\etRA}{\mathsf{RA}}
\newcommand{\ettoP}{\csat[\mathsf{P}]}
\newcommand{\ettoRA}{\csat[\mathsf{RA}]}



\newcommand{\DGraph}{\sort{DGraph}}
\newcommand{\SI}{\mathsf{SI}}
\newcommand{\ww}{\texttt{ww}}
\newcommand{\wrr}{\texttt{wr}}
\newcommand{\rw}{\texttt{rw}}
\newcommand{\toWW}{\xrightarrow{\ww}}
\newcommand{\toWR}{\xrightarrow{\wr}}
\newcommand{\toRW}{\xrightarrow{\rw}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%FROM ANDREA
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\version}{\ensuremath{\mathsf{versionOf}}}

\newcommand{\RA}{\ensuremath{\mathsf{RA}}}

\newcommand{\ddep}{\ensuremath{\mathsf{ddep}}}
\newcommand{\podep}{\ensuremath{\mathsf{podep}}}
\newcommand{\dep}{\ensuremath{\mathsf{dep}}}

\newcommand{\Env}{\ensuremath{\mathsf{Env}}}
\newcommand{\keyOf}{\ensuremath{\funcn{keyOf}}}

\newcommand{\key}[1]{\ensuremath{\mathrm{#1}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Operations
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\Ops}{\sort{Ops}}
\newcommand{\ExtOps}{\sort{ExtOps}}
\newcommand{\emptyop}{\epsilon}
\newcommand{\op}{o}
\newcommand{\Fingerprints}{\sort{Fp}}
\newcommand{\Opsets}{\Fingerprints}
\newcommand{\f}{\mathcal{F}}
\newcommand{\opset}{\f}
\renewcommand{\O}{\opset}
\newcommand{\extop}{\widetilde{o}}
\newcommand{\extopset}{\scalebox{.8}{\(\widetilde{\mathcal{O}}\)}}
\newcommand{\opsetset}{\mathbb{O}}
\newcommand{\OTags}{\sort{OTags}}
\newcommand{\otag}{t\!g}
\newcommand{\otI}{\texttt{I}}
\newcommand{\otA}{\texttt{A}}
\newcommand{\otD}{\texttt{D}}
\newcommand{\otR}{\texttt{R}}
\newcommand{\otW}{\texttt{W}}
\newcommand{\wfO}[1]{\pred{wfO}{#1}}
\newcommand{\composeO}{\compose[\halfMath{\opset}]}
\newcommand{\unitO}{\unitelem[\halfMath{\opset}]}
\newcommand{\addO}{\mathbin{<\!\!\vartriangleleft}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Fingerprint Assertions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\FAst}{\sort{FAst}}
\newcommand{\fp}{f}
\newcommand{\evalF}[2][\lenv, \stk]{\llparenthesis#2\rrparenthesis_{#1}}
\newcommand{\addF}{\mathbin{\vartriangleleft}}
\newcommand{\fpto}[1]{\scalebox{0.8}{I}\!\Rightarrow\!\!#1}
\newcommand{\fpass}[1]{\fpto{\left\langle\begin{array}{@{}l@{}}#1\end{array}\right\rangle}}
\newcommand{\fpEMP}{\fpass{}}
\newcommand{\fpF}{\fpto{\fp}}
\newcommand{\fpE}{\scalebox{0.8}{I}\stackrel{\perp}{\hookrightarrow} \backslash}
\newcommand{\fpW}{\stackrel{\texttt{w}}{\hookrightarrow}}
\newcommand{\fpR}{\stackrel{\texttt{r}}{\hookrightarrow}}
\newcommand{\fpRW}{\stackrel{\texttt{rw}}{\hookrightarrow}}
%\newcommand{\fpI}{\stackrel{\perp}{\hookrightarrow}}
\newcommand{\fpI}{\hookrightarrow}
%\newcommand{\fpA}{\stackrel{\texttt{a}}{\hookrightarrow} \backslash}
%\newcommand{\fpD}{\stackrel{\texttt{d}}{\hookrightarrow} \backslash}
\newcommand{\fpA}{\stackrel{\texttt{a}}{\hookrightarrow}}
\newcommand{\fpD}{\stackrel{\texttt{d}}{\hookrightarrow}}
\newcommand{\fpU}{\stackrel{\texttt{u}}{\hookrightarrow}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% All the arrows
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\toLTS}[1]{\xrightarrow{#1}}
\newcommand{\toFP}[1]{\xrightarrow{#1}}
\newcommand{\toCO}[1]{\xrightarrow{#1}}
\newcommand{\toC}[1]{\overset{#1}{\transfersto[c]}}
\newcommand{\toL}{\mathbin{\leadsto}}
\newcommand{\toT}[1]{\xrightarrow{\halfMath{#1}}}
\newcommand{\toG}[1]{\xRightarrow{\halfMath{#1}}}
\newcommand{\toRG}[1]{\overset{#1}{\transfersto[rg]}}
\newcommand{\toGG}[1][]{\overset{#1}{\transfersto[gg]}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Achieve Command
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\newcommand{\snapshotName}{\funcn{snapshot}}
%\newcommand{\snapshot}[2]{\func{\snapshotName}{#1, #2}}
\newcommand{\cancommitName}{\predn{can\_commit}}
\newcommand{\cancommit}[4]{\pred{\cancommitName}{#1, #2, #3, #4}}
\newcommand{\wfhistName}{\predn{wf\_hist}}
\newcommand{\wfhist}[4]{\pred{\wfhistName}{#1, #2, #3, #4}}
\newcommand{\consistentName}{\funcn{consistent}}
\newcommand{\consistent}[4]{\func{\consistentName}{#1, #2, #3, #4}}
\newcommand{\commitName}{\funcn{commit}}
\newcommand{\commit}[6]{\func{\commitName}{#1, #2, #3, #4, #5, #6}}
\newcommand{\Timestamp}{\sort{TimeStamp}}
\newcommand{\ts}{t}
\newcommand{\TSHeaps}{\sort{TSHeap}}
\newcommand{\composeTSH}{\compose[\halfMath{\tshp}]}
\newcommand{\unitTSH}{\unitelem[\halfMath{\tshp}]}
\newcommand{\tshp}{\mathit{H}}
\newcommand{\tsh}{\tshp}
\newcommand{\wfH}[1]{\wf[\scalebox{.5}{\(\tshp\)}]{#1}}
\newcommand{\mergeTSH}[1]{\mrg[\halfMath{\tsh}]{#1}}
\newcommand{\mrgop}{\mathbin{\bowtie}}
\newcommand{\mergeName}[1][]{\funcn{merge}_{#1}}
\newcommand{\mrg}[2][]{\func{\mergeName[#1]}{#2}}
\newcommand{\agreeName}[1][]{\funcn{agree}_{#1}}
\newcommand{\agree}[2]{\pred{\agreeName[#1]}{#2}}
%\newcommand{\fp}{f}
\newcommand{\addR}{\stackrel{\fpR}{\hookleftarrow}}
\newcommand{\addW}{\stackrel{\fpW}{\hookleftarrow}}
\newcommand{\addFPR}[1]{#1 \addR}
\newcommand{\addFPW}[1]{#1 \addW}
\newcommand{\FPHeaps}{\sort{FPHeap}}
\newcommand{\composeFPH}{\compose[\halfMath{\fph}]}
\newcommand{\unitFPH}{\unitelem[\halfMath{\fph}]}
\newcommand{\fph}{\mathbf{h}}
\newcommand{\setfph}{\mathbf{H}}
\newcommand{\fphVAL}[1][\fph]{#1^{\textsf{v}}}
\newcommand{\fphFP}[1][\fph]{#1^{\textsf{fp}}}
\newcommand{\eraseFPH}[1]{\erase[\fph]{#1}}
\newcommand{\mergeFPH}[2]{\mrg[\halfMath{\fph}]{#1,#2}}
\newcommand{\mergeVAL}[2]{\mrg[\val]{#1,#2}}
\newcommand{\addpotvisName}{\funcn{add\_pot\_vis}}
\newcommand{\addpotvis}[1]{\func{\addpotvisName}{#1}}
\newcommand{\Events}{\Ops}
\newcommand{\flushR}{\mathbin{\vartriangleleft}}
\newcommand{\flushW}{\mathbin{\blacktriangleleft}}
\newcommand{\Evsets}{\Opsets}
\newcommand{\evset}{\opset}
\newcommand{\ETags}{\OTags}
\newcommand{\etag}{\otag}
\newcommand{\etS}{\otS}
\newcommand{\etE}{\otE}
\newcommand{\etR}{\otR}
\newcommand{\etW}{\otW}
\newcommand{\composeE}{\composeO}
\newcommand{\unitE}{\unitO}
\newcommand{\Aexecs}{\sort{AbsExecs}}
\newcommand{\Aexecrun}{\sort{RunAbsExecs}}
\newcommand{\aexec}{\mathcal{X}}
\newcommand{\aexecset}{\mathcal{SX}}
\newcommand{\aexecrun}{\hat{\mathcal{X}}}
\newcommand{\runaexec}{\aexecrun}
\newcommand{\prjT}{\projection{\tx}}
\newcommand{\prjI}{\projection{\setthid}}
\newcommand{\prjP}{\projection{\po}}
\newcommand{\prjV}{\projection{\vis}}
\newcommand{\prjA}{\projection{\ar}}
\newcommand{\edgeto}[1]{\overset{#1}{\to}}
\newcommand{\po}{\texttt{po}}
\newcommand{\toPO}{\edgeto{\po}}
\newcommand{\porun}{\hat{\texttt{po}}}
\newcommand{\vis}{\texttt{vis}}
\newcommand{\toVIS}{\edgeto{\vis}}
\newcommand{\ptlar}{\texttt{ptlar}}
\newcommand{\toPTLAR}{\edgeto{\ptlar}}
\newcommand{\ar}{\texttt{ar}}
\newcommand{\toAR}{\edgeto{\ar}}
\newcommand{\eraseAEX}[1]{\erase[]{#1}}
\newcommand{\ordAEX}{\ord}
\newcommand{\ordAEXRUN}{\ord}
\newcommand{\composeAEX}{\compose[\aexec]}
\newcommand{\unitAEX}{\unitelem[\aexec]}
\newcommand{\composeAEXRUN}{\compose[\aexecrun]}
\newcommand{\ResolutionPolicies}{\sort{ResPos}}
\newcommand{\ResPos}{\ResolutionPolicies}
\newcommand{\respo}{\mathcal{P}}
\newcommand{\ConsistencyGuarantee}{\sort{ConGuar}}
\newcommand{\ConGuar}{\ConsistencyGuarantee}
\newcommand{\conguar}{\mathcal{F}}
\newcommand{\ConsisModels}{\ETS}
\newcommand{\evalCOM}[1]{\eval{#1}{}}
\newcommand{\ordCOM}{\ord}
\newcommand{\btmCOM}{\btm}
\newcommand{\ev}{\op}
\newcommand{\ThreadVars}{\sort{ThdVars}}
\newcommand{\ThdVars}{\ThreadVars}
\newcommand{\TxVars}{\sort{TxVars}}
\newcommand{\ThdStacks}{\sort{ThdStks}}
\newcommand{\TxStacks}{\sort{TxStks}}
\newcommand{\thdstack}{\sigma}
\newcommand{\thstk}{\thdstack}
\newcommand{\txstack}{\tau}
\newcommand{\txstk}{\txstack}
\newcommand{\txret}{\ret}
\newcommand{\thvar}{\pvar{x}}
\newcommand{\txvar}{\pvar{a}}
\newcommand{\thret}{\pvar{lret}}
\newcommand{\otS}{\texttt{S}}
\newcommand{\otE}{\texttt{E}}
\newcommand{\ViEnv}{\sort{ViewEnv}}
\newcommand{\vienv}{\scalebox{.8}{\(\widetilde{\mathcal{U}}\)}}
\newcommand{\Cuts}{\sort{Cuts}}
\newcommand{\ThCuts}{\sort{ThCuts}}
\newcommand{\cu}{u}
\newcommand{\cuset}{\mathbb{U}}
\newcommand{\thcu}{\mathcal{U}}
\newcommand{\orderCU}{\leq}
\newcommand{\composeCU}{\compose[\cu]}
\newcommand{\unitCU}{\unitelem[\cu]}
\newcommand{\wsName}{\funcn{ws}}
\newcommand{\ws}[1]{\func{\wsName}{#1}}
\newcommand{\rsName}{\funcn{rs}}
\newcommand{\rs}[1]{\func{\rsName}{#1}}
\newcommand{\newaexecName}{\funcn{new\_abs\_exec}}
\newcommand{\newaexec}[1]{\func{\newaexecName}{#1}}
\newcommand{\obsstateName}{\funcn{obs\_states}}
\newcommand{\obsstate}[1]{\func{\obsstateName}{#1}}
\newcommand{\consis}[1]{\pred{consis}{#1}}
\newcommand{\geteventName}{\funcn{get\_events}}
\newcommand{\getevent}[1]{\func{\geteventName}{#1}}
\newcommand{\TPool}{\sort{TPool}}
\newcommand{\threadpool}{\eta}
\newcommand{\thpl}{\threadpool}
\newcommand{\IntermediatePrograms}{\sort{IProg}}
\newcommand{\iprog}{\hat{\prog}}
\newcommand{\pwait}[1]{\texttt{wait}(#1)}
\newcommand{\pruntrans}[2]{%
    \left\lbrack \! \left\lbrack \begin{array}{@{}l@{}} #1%
    \end{array} \right\rbrack\!  \right\rbrack_{#2}
}
\newcommand{\StkEnv}{\sort{StkEnv}}
\newcommand{\stkenv}{\mathcal{S}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%logic
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Regions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\RegionID}{\sort{RegionID}}
\newcommand{\regionid}{r}
\newcommand{\rid}{\regionid}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Capabilities
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\Kaps}{\sort{Kap}}
\newcommand{\kap}{\kappa}
\newcommand{\kapset}{\mathbb{K}}
\newcommand{\composeK}{\compose[\kap]}
\newcommand{\unitK}{\unitelem[\kap]}
\newcommand{\Caps}{\sort{Cap}}
\newcommand{\ca}{\mathit{c}}
\newcommand{\caset}{C}
\newcommand{\composeC}{\compose[\ca]}
\newcommand{\unitC}{\unitelem[\ca]}
\newcommand{\evalC}[2][\lenv, \stk]{\eval{#2}{#1}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Logical Expressions and assertion
%%%%%%%%%%%%%%U%%%%%%%%%%%%%%%%%%
\newcommand{\exprset}{\mathbb{E}}
\newcommand{\LExpr}{\sort{LExpr}}
\newcommand{\lexpr}{\V{e}}
\newcommand{\luexpr}{\underline{\V{e}}}
\newcommand{\LVar}{\sort{LVar}}
\newcommand{\lvar}{\V{x}}
\newcommand{\LEnv}{\sort{LEnv}}
\newcommand{\lenv}{\iota}
\newcommand{\evalLE}[2][\lenv, \stk]{\eval{#2}{#1}}
\newcommand{\LOAst}{\sort{LoAst}}
\newcommand{\lopre}{\V{p}}
\newcommand{\lopost}{\V{q}}
\newcommand{\evalLO}[2][\lenv, \stk]{\llparenthesis{#2}\rrparenthesis_{#1}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Local Assertions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\LAst}{\sort{LAst}}
\newcommand{\last}{p}
\newcommand{\lpre}{\last}
\newcommand{\lpost}{q}
\newcommand{\lframe}{r}
\newcommand{\evalLS}[2][\lenv, \stk]{\eval{#2}{#1}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Interference
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\Actions}{\sort{Action}}
\newcommand{\action}{\textnormal{a}}
\newcommand{\setaction}{\textnormal{A}}
\newcommand{\actionset}{\setaction}
\newcommand{\Interference}{\sort{Inter}}
\newcommand{\intf}{\mathcal I}
\newcommand{\intfO}{{\mathcal I}^{\halfMath{\opset}}}
\newcommand{\intfH}{{\mathcal I}^{\halfMath{\hh}}}
\newcommand{\inter}{\intf}
\newcommand{\IAst}{\sort{IAst}}
\newcommand{\intass}{I}
\newcommand{\evalI}[2][\lenv, \stk]{\eval{#2}{#1}}
\newcommand{\OAst}{\sort{OAst}}
\newcommand{\oass}{o}
\newcommand{\oassto}{\Rightarrow}
\newcommand{\mat}{\mathbin{@}}
\newcommand{\evalO}[2][\lenv, \stk]{\eval{#2}{#1}}
\newcommand{\Observations}{\sort{Obs}}
\newcommand{\observation}{\textnormal{b}}
\newcommand{\obs}{\observation}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Shared state
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\SStates}{\sort{SState}}
\newcommand{\gs}{\ensuremath{\mathit g}}
\newcommand{\composeS}{\compose[\gs]}
\newcommand{\composeEq}{\compose[=]}
\newcommand{\unitS}{\unitelem[\gs]}
\newcommand{\eraseS}[1]{\erase{#1}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% World
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\World}{\sort{Worlds}}
\newcommand{\world}{\ensuremath{\mathit{w}}}
\newcommand{\w}{\world}
\newcommand{\wenv}{\mathcal{W}}
\newcommand{\setworld}{W}
\newcommand{\composeW}{\compose[\world]}
\newcommand{\unitW}{\unitelem[\world]}
\newcommand{\wfW}[1]{\wf{#1}}
\newcommand{\eraseW}[1]{\erase{#1}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Global Assertions and Worlds
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\PAst}{\sort{PAst}}
\newcommand{\Ast}{\PAst}
\newcommand{\gpre}{\pre}
\newcommand{\gpost}{\post}
\newcommand{\gframe}{R}
\newcommand{\boxass}[3]{%
{
    \setlength{\fboxsep}{0pt}
    \framebox{%
        \(%
        \scalebox{.9}{\(\begin{array}{@{\,}c@{\,}}#1\end{array}\)}%
        \)%
    }^{\,#2}_{\,#3}%
}
}
\newcommand{\sptboxass}[4]{%
\boxass{%
\left. \begin{array}{@{}l@{}}#1\end{array} \middle|
\begin{array}{@{}l@{}}#2\end{array} \right.
}{#3}{#4}
}
\newcommand{\lrid}{\V{r}}
\newcommand{\perm}[1]{\left[#1\right]}
\newcommand{\cass}[2]{\perm{#1}^{#2}}
\newcommand{\CAst}{\sort{CAst}}
\newcommand{\evalW}[2][\lenv, \stk]{\eval{#2}{#1}}
\newcommand{\evalAUX}[2][\lenv, \stk]{\llparenthesis#2\rrparenthesis_{#1}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% rely and guarantee
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\relyU}{\rely^{u}}
\newcommand{\relyV}{\rely^{v}}
\newcommand{\guarU}{\guar^{u}}
\newcommand{\stable}[1]{\pred{stable}{#1}}
\newcommand{\mergeR}[3]{\mrg[\scalebox{.5}{\(\rely\)}]{#1,#2,#3}}
\newcommand{\clpsR}[1]{\clps{#1}}
\newcommand{\clpsG}[1]{\clps{#1}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Logic Rules
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\tripleL}[3]{%
    \tripleEnv{}{}{#1}{#2}{#3}
}
\newcommand{\tripleF}[3]{%
    \tripleEnv{}{}{#1}{#2}{#3}
}
\newcommand{\tripleG}[3]{%
    \tripleEnv{\et}{}{#1}{#2}{#3}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% repartition & stable
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\repartition}[5][\como]{ %
    #1 \vdash
    #2 %
    \Rrightarrow^{ %
       \left\{ #4 \right\}%
       \left\{ #5 \right\}%
    } #3
}
\newcommand{\rpt}[3]{
    \vdash
    #1 %
    \Rrightarrow^{ %
       #3 %
    } #2
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  Soundness
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\tripleSem}[5]{%
#1 \vDash_{#2} %
    \begin{array}{@{}l@{}} %
    \triple{#3}{#4}{#5} %
    \end{array}%
}
\newcommand{\tripleSemG}[3]{%
    \tripleSem{}{g}{#1}{#2}{#3}
}
\newcommand{\tripleSemL}[3]{%
    \tripleSem{}{l}{#1}{#2}{#3}
}
\newcommand{\trace}{\ensuremath{\tau}}
\newcommand{\trc}{\trace}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Achieve Command
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\fpt}[1]{\pointsto_{#1}}
\newcommand{\fptEMP}{\fpt{\emptyset}}
\newcommand{\fptR}{\fpt{\{\fpR\}}}
\newcommand{\fptW}{\fpt{\{\fpW\}}}
\newcommand{\fptRW}{\fpt{\{\fpR, \fpW\}}}
\newcommand{\RelyI}{\Rely}
\newcommand{\GuarI}{\Guar}
\newcommand{\relyE}{\rely^{e}}
\newcommand{\flattenevalW}[2][\lenv, \stk,\intf]{\llparenthesis #2 \rrparenthesis_{#1} }
\newcommand{\FPWorlds}{\sort{FPWorld}}
\newcommand{\composeFPW}{\compose[\halfMath{\fpw}]}
\newcommand{\unitFPW}{\unitelem[\fpw]}
\newcommand{\fpw}{\ensuremath{\mathbf{w}}}
\newcommand{\flattenFW}[1]{\flatten[\fpw]{#1}}
\newcommand{\mergeFW}[2]{\mrg[\fpw]{#1,#2}}
\newcommand{\mergeFPW}[2]{\mrg[\fpw]{#1,#2}}
\newcommand{\eraseFW}[1]{\erase[\fpw]{#1}}
\newcommand{\guarE}{\guar^{e}}
\newcommand{\retvar}{\ret}
\newcommand{\clpsS}[1]{\clps{#1}}
\newcommand{\clpsW}[1]{\clps{#1}}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Graph
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% General
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\SIGraphs}{\sort{SIGraphs}}
\newcommand{\PGraphs}{\sort{PGraphs}}
\newcommand{\TGraphs}{\sort{TGraphs}}
\newcommand{\sig}{\ensuremath{\mathcal{G}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Trace
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\Trace}{\sort{Trace}}
\newcommand{\settrace}{\Theta}
\newcommand{\settrc}{\settrace}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Short-hand for programs
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\va}{\pv{a}}
\newcommand{\vb}{\pv{b}}
\newcommand{\vx}{\pv{x}}
\newcommand{\vw}{\pv{w}}
\newcommand{\vvx}{\pv{vx}}
\newcommand{\vy}{\pv{y}}
\newcommand{\vvy}{\pv{vy}}
\newcommand{\vz}{\pv{z}}
\newcommand{\vtmp}{\pv{tmp}}
\newcommand{\sadface}{\raisebox{-1pt}{\scalebox{1.3}{\(\frownie\)}}}

\newcommand{\pfm}{\ensuremath{\stackrel{\mathit{fin}}{\rightharpoonup}}}
\newcommand{\fm}{\ensuremath{\stackrel{\mathit{fin}}{\rightarrow}}}

\newcommand{\mypar}[1]{\paragraph{\textbf{#1}}}

\newcommand{\viewleq}{\ensuremath{\sqsubseteq}}

\newcommand{\RYW}{\ensuremath{\mathsf{RYW}}}
\newcommand{\MW}{\ensuremath{\mathsf{MW}}}
\newcommand{\MRd}{\ensuremath{\mathsf{MR}}}
\newcommand{\WFR}{\ensuremath{\mathsf{WFR}}}
\newcommand{\UA}{\ensuremath{\mathsf{UA}}}
\newcommand{\CP}{\ensuremath{\mathsf{CP}}}
\newcommand{\SER}{\ensuremath{\mathsf{SER}}}
\newcommand{\CC}{\ensuremath{\mathsf{CC}}}
\newcommand{\PSI}{\ensuremath{\mathsf{PSI}}}

\newcommand{\PO}{\ensuremath{\mathsf{SO}}}
\newcommand{\VIS}{\ensuremath{\mathsf{VIS}}}

\newcommand{\shift}{\ensuremath{\mathsf{Shift}}}
\newcommand{\updateKV}{\ensuremath{\mathsf{updateKV}}}
\newcommand{\vilist}{\ensuremath{V}}
\newcommand{\nextTxId}{\ensuremath{\mathsf{nextTxId}}}
\newcommand{\CMs}{\ensuremath{\mathcal{CM}}}
\newcommand{\ClSet}{\ensuremath{\mathcal{C}}}

\newcommand{\cmdpriset}{\ensuremath{\mathbb{C}_p}}

\newcommand{\RF}{\ensuremath{\mathsf{WR}}}
\newcommand{\VO}{\ensuremath{\mathsf{WW}}}
\newcommand{\AD}{\ensuremath{\mathsf{RW}}}

\newcommand{\AR}{\ensuremath{\mathsf{AR}}}

\newcommand{\CBef}{\ensuremath{\mathsf{CB}}}

\newcommand{\TtoOp}[1]{\ensuremath{\mathscr{#1}}}

\newcommand{\Dgraphs}{\ensuremath{\mathsf{Dgraphs}}}
\newcommand{\graphof}{\ensuremath{\mathsf{GraphOf}}}

\newcommand{\Gr}{\ensuremath{\mathcal{G}}}