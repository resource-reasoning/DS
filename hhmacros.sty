%**********************************************************************************************************************************Note: this file is shared between several documents, please do not delete any macros.
% Maintained by Shale Xiong <sx14@ic.ac.uk>
%**********************************************************************************************************************************
\RequirePackage{cleveref}
\RequirePackage{mathpartir}

%**********************************************************************************************************************************
% Styles and Short-hand
%**********************************************************************************************************************************
% Text & typesetting
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\rl}[1]{\textsc{#1}}
\newcommand{\sort}[1]{\protect\scalebox{0.9}{\textsc{#1}}}
\newcommand{\codeFont}[1]{\ensuremath{\mathtt{#1}}}
\newcommand{\commentFont}[1]{\ensuremath{\mathtt{#1}}}
\newcommand{\qqquad}{\qquad\quad}
\newcommand{\qqqquad}{\qquad\qquad}
\newenvironment{rclarray}[1][t]{%
    \begin{array}[#1]{@{}r@{\ } c @{\ } l@{}}
}{%
    \end{array}
}
\newcommand{\V}[1]{\textsc{\lowercase{#1}}} % for logically expression
\newcommand{\CB}[1]{\texttt{#1}} % for permission
\newenvironment{parl}{%
    \begin{array}{@{}c || c@{}}
}{%
    \end{array}
}
\newenvironment{session}{%
    \begin{array}{@{}c@{}}
}{%
    \end{array}
}
\newenvironment{formulea}{%
    \left(
    \begin{array}{@{}l@{}}
}{%
    \end{array}
    \right)
}
\newenvironment{B}{%
    \left(
    \begin{array}{@{}l@{}}
}{%
    \end{array}
    \right)
}
\newcommand{\mypar}[1]{\vspace*{-7pt}\subsubsection*{#1}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% CREF name
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\crefname{section}{\S\!}{\S\!}
\crefname{subsection}{\S\!}{\S\!}
\crefname{subsubsection}{\S\!}{\S\!}

\crefname{definition}{Def.}{Defs.}
\crefname{figure}{Fig.}{Figs.}
\crefname{lemma}{Lemma}{Lemmas}
\crefname{theorem}{Theorem}{Theorems}
\crefname{equation}{Eq.}{Eqs.}
\crefname{proposition}{Prop.}{Props.}
\crefname{corollary}{Cor.}{Cors.}
\crefname{listing}{Code}{Codes}
\Crefname{listing}{Code}{Codes}
\crefname{lstnumber}{line}{lines}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Writing Short-hand
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\CASE}[2]{\noindent{#1}: {#2}. }
\newcommand{\caseB}[1]{\CASE{Base case}{#1}}
\newcommand{\caseI}[1]{\CASE{Inductive case}{#1}}
\newcommand{\ih}{\textnormal{I.H.}\xspace}
\newcommand{\ie}{\textnormal{i.e.}\xspace}
\newcommand{\eg}{\textnormal{e.g.}\xspace}
\newcommand{\etal}{\textnormal{et al.}\xspace}


%**********************************************************************************************************************************
% Programming Language
%**********************************************************************************************************************************
\newcommand{\Expressions}{\sort{Expr}}
\newcommand{\Expr}{\Expressions}
\newcommand{\expr}{\codeFont{E}}
\newcommand{\Booleans}{\sort{Bool}}
\newcommand{\bool}{\ensuremath{\mathbb{B}}}
\newcommand{\true}{\texttt{true}}
\newcommand{\false}{\texttt{false}}
\newcommand{\boolnot}{\mathop{\texttt{not}}}
\newcommand{\booland}{\ensuremath{\mathbin{\texttt{and}}}}
\newcommand{\boolor}{\ensuremath{\mathbin{\texttt{or}}}}
\newcommand{\Stacks}{\sort{Stack}}
\newcommand{\ret}{\pvar{ret}}
\newcommand{\stack}{\ensuremath{s}}
\newcommand{\stk}{\stack}
\newcommand{\Val}{\sort{Val}}
\newcommand{\val}{\ensuremath{v}}
\newcommand{\Vars}{\sort{Vars}}
\newcommand{\var}{\pvar{x}}
\newcommand{\Commands}{\sort{Cmd}}
\newcommand{\cmd}{\codeFont{C}}
\newcommand{\pskip}{\codeFont{skip}}
\newcommand{\pvar}[1]{\codeFont{#1}}
\newcommand{\pv}[1]{\pvar{#1}}
\newcommand{\passign}[2]{\ensuremath{#1 \mathbin{:=} #2}}
\newcommand{\pass}[2]{\passign{#1}{#2}}
\newcommand{\pmutate}[2]{\ensuremath{[#1] \mathbin{:=} #2}}
\newcommand{\pderef}[2]{\ensuremath{#1 \mathbin{:=} [#2]}}
\newcommand{\plookup}[2]{\pderef{#1}{#2}}
\newcommand{\palloc}[2]{#1 \mathbin{:=} \codeFont{alloc}(#2)}
\newcommand{\passume}[1]{\codeFont{assume}(#1)}
\newcommand{\preturn}[1]{\codeFont{return}(#1)}
\newcommand{\pseq}{\ensuremath{;}}
\newcommand{\pchoice}{\ensuremath{\mathbin{+}}}
\newcommand{\prepeat}{\ensuremath{^{*}}}
\newcommand{\ppar}{\ensuremath{\mathbin{\|}}}
\newcommand{\pifs}[1]{\codeFont{if} \, (#1) \{}
\newcommand{\hhset}{\mkvsset}
\newcommand{\pifm}{\} \codeFont{else}\{ }
\newcommand{\pife}{\}}
\newcommand{\pif}[3]{\pifs{#1} \  #2 \  \pifm \  #3 \pife}
\newcommand{\ploops}[1]{\codeFont{while} \, (#1) \{ }
\newcommand{\ploope}[1]{\}}
\newcommand{\ploop}[2]{\ploops{#1} #2 \ploope}


%**********************************************************************************************************************************
% Programming Logic in general
%**********************************************************************************************************************************
% Assertion and triple
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\pre}{\ensuremath{P}}
\newcommand{\post}{\ensuremath{Q}}
\newcommand{\fra}{\ensuremath{R}}
\newcommand{\triple}[3]{ %
    \left\{ \begin{array}{@{}l@{}} #1 \end{array} \right\}%
    \ #2 \ %
    \left\{ \begin{array}{@{}l@{}} #3 \end{array} \right\}%
}
\newcommand{\tripleEnv}[5]{%
#1 \vdash_{#2} %
    \begin{array}{@{}l@{}} %
    \triple{#3}{#4}{#5} %
    \end{array}%
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Rely-Guarantee Interference Token
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\guar}{\ensuremath{\mathit{g}}}
\newcommand{\rely}{\ensuremath{\mathit{r}}}
\newcommand{\Rely}{\ensuremath{{\mathcal R}}}
\newcommand{\Guar}{\ensuremath{{\mathcal G}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Sketch proof
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\sep}{\ensuremath{\mathbin{*}}}
\newcommand{\pointsto}{\ensuremath{\mapsto}}
\newcommand{\asstrue}{\textnormal{true}}
\newcommand{\True}{\asstrue}
\newcommand{\assfalse}{\textnormal{false}}
\newcommand{\False}{\assfalse}
\newcommand{\assemp}{\textnormal{emp}}
\newcommand{\emp}{\assemp}
\newcommand{\Emp}{\assemp}
\newcommand{\specline}[1]{\ensuremath{ { \color{blue} \left\{ \begin{array}{@{}l@{}} #1 \end{array} \right\}} }}
\newcommand{\actionline}[2]{\ensuremath{ { \color{red} #1 : \left. \begin{array}{@{}l@{}} #2 \end{array} \right.} }}
\newcommand{\pt}{\ensuremath{\pointsto}}
\NewDocumentCommand{\cell}{m m o o o}{%
\IfNoValueTF{#3}{%
    \ensuremath{#1 \pt #2}%
}{%
    \IfNoValueTF{#4}{%
        \ensuremath{#1 \pt #2, #3}%
    }{%
        \IfNoValueTF{#5}{%
            \ensuremath{#1 \pt #2, #3, #4}%
        }{%
            \ensuremath{#1 \pt #2, #3, #4, #5}%
        }%
    }%
}%
}

%**********************************************************************************************************************************
%maths
%**********************************************************************************************************************************
% General notations
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\stub}{\ensuremath{-}}
\newcommand{\anyval}{\stub}
\newcommand{\for}[1]{\ensuremath{\forall #1 \ldotp \;}}
\newcommand{\fora}[1]{\ensuremath{\for{#1}}}
\newcommand{\exsts}[1]{\ensuremath{\exists #1 \ldotp \;}}
\newcommand{\isundef}{\ensuremath{\uparrow}}
\newcommand{\isdef}{\ensuremath{\downarrow}}
\newcommand{\iffdef}{\ensuremath{\stackrel{\textnormal{def}}{\Longleftrightarrow}}}
\newcommand{\defiff}{\iffdef}
\newcommand{\defeq}{\ensuremath{\triangleq}}
\newcommand{\eqdef}{\defeq}
\newcommand{\Nat}{\ensuremath{\mathbb{N}}}
\newcommand{\nat}{\ensuremath{n}}
\NewDocumentCommand{\Set}{m o}{
    \IfNoValueTF{#2}{%
        \ensuremath{%
        \left\{
        \begin{array}{@{}l@{}} #1 \end{array}
        \right\}%
        }
    }{%
        \ensuremath{%
        \left\{
        \begin{array}{@{} l | l @{}}
            \begin{array}{@{} l @{}}
                #1
            \end{array}
            & 
            \begin{array}{@{} l @{}}
                #2
            \end{array}
        \end{array}
        \right\}%
        }
    }
}
\newcommand{\List}[1]{\ensuremath{\left[ #1 \right]}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Operators and Elements
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\DeclareMathOperator{\dom}{dom}
\newcommand{\remapsto}[2]{\ensuremath{{\left[#1 \mapsto #2\right]}}}
\newcommand{\rmto}[2]{\remapsto{#1}{#2}}
\newcommand{\powerset}[1]{\ensuremath{\mathcal{P}\left(#1\right)}}
\newcommand{\pset}[1]{\powerset{#1}}
\newcommand{\parfun}{\ensuremath{\rightharpoonup}}
\newcommand{\parfinfun}{\ensuremath{\xrightharpoonup{\mathit{fin}}}}
\newcommand{\pfm}{\parfinfun}
\newcommand{\compose}[1][]{\ensuremath{\bullet_{#1}}}
\newcommand{\denote}[1]{\ensuremath{\left\llbracket #1 \right\rrbracket}}
\newcommand{\eval}[2]{\ensuremath{\denote{#1}_{#2}}}
\newcommand{\projection}[1]{\ensuremath{\!\!\downharpoonright_{#1}}}
\newcommand{\closure}[1]{\ensuremath{{#1}^{*}}}
\newcommand{\sub}[2]{\ensuremath{\left[ \sfrac{#2}{#1} \right]}}
\newcommand{\unitelem}[1][]{\ensuremath{\mathbf{0}_{#1}}}
\newcommand{\btm}[1][]{\ensuremath{\perp_{#1}}}
\newcommand{\lcat}{\ensuremath{\mathbb{::}}}
\newcommand{\abs}[1]{\ensuremath{\lvert #1 \rvert}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Function and predication
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\NewDocumentCommand{\func}{ m o }{
\IfNoValueTF{#2}{%
    \ensuremath{\mathsf{#1}}
}{%
    \ensuremath{\mathsf{#1}\left(#2\right)}
}
}
\NewDocumentCommand{\pred}{ m o }{
\IfNoValueTF{#2}{%
    \ensuremath{\mathtt{#1}}
}{%
    \ensuremath{\mathtt{#1}\left(#2\right)}
}
}
\newcommand{\wfName}[1][]{\ensuremath{\pred{wf}_{#1}}}
\newcommand{\wf}[2][]{\ensuremath{\pred{\wfName[#1]}[#2]}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% archive
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\predn}[1]{\pred{#1}}
\newcommand{\funcFont}[1]{\ensuremath{\mathsf{#1}}}
\newcommand{\funcn}[1]{\func{#1}}
\newcommand{\myset}[2]{\Set{#1}[#2]}
\newcommand{\Setcon}[2]{\Set{#1}[#2]}
\newcommand{\setcomp}[2]{\Set{#1}[#2]}
\newcommand{\flatten}[2][]{\ensuremath{\left\lfloor #2 \right\rfloor_{#1}}}
\newcommand{\erase}[2][]{\ensuremath{\llfloor #2 \rrfloor_{#1}}}
\newcommand{\clps}[2][]{\ensuremath{\erase[#1]{#2}}}
\newcommand{\orth}[1]{\ensuremath{{#1}^{\bot}}}
\newcommand{\ord}[1][]{\ensuremath{\sqsubseteq_{#1}}}



%**********************************************************************************************************************************
% For abstract execution semantics
%**********************************************************************************************************************************
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Programming language 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Thread Env for operation sematics
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\ThdEnv}{\sort{CEnv}}
\newcommand{\thdenv}{\ensuremath{\mathcal E}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Transactions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\TxID}{\sort{TransID}}
\newcommand{\TransID}{\sort{TransID}}
\NewDocumentCommand{\Tx}{ o }{%
\IfNoValueTF{#1}{%
    \ensuremath{\func{Tx}}%
}{%
    \ensuremath{\func{Tx}[#1]}%
}
}
\newcommand{\txid}{\ensuremath{t}}
\newcommand{\txidset}{\ensuremath{\mathcal{T}}}
\newcommand{\tsid}{\txid}
\newcommand{\tx}{\ensuremath{\mathcal{T}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Threads and client
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\ClientID}{\sort{Client}}
\newcommand{\Clients}{\ClientID}
\newcommand{\ThreadID}{\ClientID}
\newcommand{\client}{{\ensuremath{cl}}}
\newcommand{\cl}{\client}
\newcommand{\thid}{\client}
\newcommand{\setclient}{\ensuremath{CL}}
\newcommand{\setthid}{\setclient}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Expressions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\evalE}[2][\stk]{\eval{#2}{#1}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Syntax Transactions & Programs 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\Transactions}{\sort{Trans}}
\newcommand{\trans}{\codeFont{T}}
\newcommand{\transpri}{\ensuremath{\trans_{p}}}
\newcommand{\cmdpri}{\ensuremath{\cmd_{p}}}
\newcommand{\Programs}{\sort{Prog}}
\newcommand{\prog}{\codeFont{P}}
\newenvironment{transaction}{%
    \left\lbrack%
    \begin{array}{@{}l@{}}
}{%
    \end{array}%
    \right\rbrack
}
\newcommand{\ptrans}[1]{%
    \begin{transaction} #1 \end{transaction}%
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% snapshots
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\Snapshots}{\sort{Snapshot}}
\newcommand{\Heaps}{\Snapshots}

\NewDocumentCommand{\snapshot}{ o }{%
\IfNoValueTF{#1}{%
    \ensuremath{\func{snapshot}}%
}{%
    \ensuremath{\func{snapshot}[#1]}%
}
}
\newcommand{\sn}{\ensuremath{\mathit{ss}}}
\newcommand{\snset}{\ensuremath{\mathit{SS}}}
\newcommand{\ssset}{\snset}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% version, mkvs
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\Versions}{\sort{Version}}
\newcommand{\ver}{\ensuremath{\nu}}
\newcommand{\vilist}{\ensuremath{\mathcal{V}}}
\newcommand{\Keys}{\sort{Key}}
\newcommand{\Addr}{\Keys}
\newcommand{\addr}{\ke}
\newcommand{\ke}{\ensuremath{k}}
\newcommand{\MKVSs}{\ensuremath{\sort{KVS}}}
\newcommand{\Hheaps}{\MKVSs}
\newcommand{\HisHeaps}{\Hheaps}
\newcommand{\mkvs}{\ensuremath{\mathcal{K}}}
\newcommand{\mkvsset}{\ensuremath{\mathbb{K}}}
\NewDocumentCommand{\valueOf}{ o }{%
\IfNoValueTF{#1}{%
    \ensuremath{\func{val}}%
}{%
    \ensuremath{\func{val}[#1]}%
}
}
\NewDocumentCommand{\wtOf}{ o }{%
\IfNoValueTF{#1}{%
    \ensuremath{\func{w}}%
}{%
    \ensuremath{\func{w}[#1]}%
}
}
\NewDocumentCommand{\rsOf}{ o }{%
\IfNoValueTF{#1}{%
    \ensuremath{\func{rs}}%
}{%
    \ensuremath{\func{rs}[#1]}%
}
}
\NewDocumentCommand{\updateKV}{ o }{%
\IfNoValueTF{#1}{%
    \ensuremath{\func{update}}%
}{%
    \ensuremath{\func{update}[#1]}%
}
}
\NewDocumentCommand{\nextTxid}{ o }{%
\IfNoValueTF{#1}{%
    \ensuremath{\func{nextTxId}}%
}{%
    \ensuremath{\func{nextTxId}[#1]}%
}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% views and conf.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\Views}{\sort{Views}}
\newcommand{\viewFun}{\ensuremath{\mathcal{U}}}
\newcommand{\vienv}{\viewFun}
\newcommand{\vi}{\ensuremath{u}}
\newcommand{\viewleq}{\ensuremath{\sqsubseteq}}
\newcommand{\orderVI}{\viewleq}
\newcommand{\composeVI}{\compose[\vi]}
\newcommand{\unitVI}{\unitelem[\vi]}
\newcommand{\Confs}{\sort{Conf}}
\newcommand{\conf}{\ensuremath{\Gamma}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Operations
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\emptyop}{\ensuremath{\epsilon}}
\newcommand{\op}{\ensuremath{o}}
\newcommand{\Fingerprints}{\sort{Fp}}
\newcommand{\Fingerprint}{\Fingerprints}
\newcommand{\f}{\ensuremath{\mathcal{F}}}
\newcommand{\otR}{\textnormal{\texttt r}}
\newcommand{\otW}{\textnormal{\texttt w}}
\newcommand{\addO}{\mathbin{<\!\!\vartriangleleft}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% consistency models
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\ETs}{\ensuremath{\sort{ET}}}
\newcommand{\ETS}{\ETs}
\newcommand{\Como}{\ETS}
\newcommand{\ET}{\ensuremath{\mathsf{ET}}}
\newcommand{\et}{\ET}
\newcommand{\como}{\et}
\newcommand{\etto}[1][\et]{\triangleright_{#1}}
\newcommand{\csat}[1][]{\ensuremath{\etto[#1]}}
\newcommand{\CM}{\ensuremath{\mathcal{CM}}}
\NewDocumentCommand{\CMs}{ o }{%
\IfNoValueTF{#1}{%
    \ensuremath{\func{CM}}%
}{%
    \ensuremath{\func{CM}[#1]}%
}
}
\NewDocumentCommand{\CMa}{ o }{%
\IfNoValueTF{#1}{%
    \ensuremath{\func{CM}}%
}{%
    \ensuremath{\func{CM}[#1]}%
}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Achieve Command
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\nextTxId}{\nextTxid}
\newcommand{\updKV}[1]{\updateKV[#1]}
\newcommand{\nexttxid}[1]{\nextTxid[#1]}
\newcommand{\composeKV}{\compose[\mkvs]}
\newcommand{\unitKV}{\unitelem[\hh]}
\newcommand{\WTx}{\wtOf}
\newcommand{\RTx}{\rsOf}
\newcommand{\composeSS}{\compose[\sn]}
\newcommand{\unitSS}{\unitelem[\sn]}
\newcommand{\getSN}[1]{\snapshot[#1]}
\newcommand{\Opsets}{\Fingerprints}
\newcommand{\opset}{\f}
\newcommand{\otU}{\textnormal{\texttt u}}
\newcommand{\composeO}{\compose[\opset]}
\newcommand{\unitO}{\ensuremath{\emptyset}}
\newcommand{\otA}{\textnormal{\texttt a}}
\newcommand{\otD}{\textnormal{\texttt d}}
\newcommand{\unitHH}{\unitKV}
\newcommand{\composeHH}{\composeKV}
\newcommand{\hh}{\mkvs}
\newcommand{\updM}[1]{\updHH{#1}}
\newcommand{\updHH}[1]{\updKV{#1}}
\newcommand{\HHupdate}{\updateKV}
\newcommand{\Vupdate}{\funcn{UpdateView}}
\newcommand\xrsquigarrow[1]{%
    \mathrel{%
        \begin{tikzpicture}[%
            baseline={(current bounding box.south)}
            ]
        \node[%
            ,inner sep=.44ex
            ,align=center
            ] (tmp) {$\scriptstyle #1$};
        \path[%
            ,draw,<-
            ,decorate,decoration={%
                ,zigzag
                ,amplitude=0.7pt
                ,segment length=1.2mm,pre length=3.5pt
                }
            ] 
        (tmp.south east) -- (tmp.south west);
        \end{tikzpicture}
        }
    }
\newcommand\xlsquigarrow[1]{%
    \mathrel{%
        \begin{tikzpicture}[%
            ,baseline={(current bounding box.south)}
            ]
        \node[%
            ,inner sep=.44ex
            ,align=center
            ] (tmp) {$\scriptstyle #1$};
        \path[%
            ,draw,<-
            ,decorate,decoration={%
                ,zigzag
                ,amplitude=0.7pt
                ,segment length=1.2mm,pre length=3.5pt
                }
            ] 
        (tmp.south west) -- (tmp.south east);
        \end{tikzpicture}
        }
    }
\newcommand{\Ops}{\sort{Ops}}
\newcommand{\OTags}{\sort{OTags}}
\newcommand{\otag}{\ensuremath{t\!g}}
\newcommand{\updV}[1]{\func{\Vupdate}{#1}}
\newcommand{\clpsHH}[1]{\getSN{#1}}
\newcommand{\hset}{\ssset}
\newcommand{\h}{\sn}
\newcommand{\composeH}{\composeSS}
\newcommand{\unitH}{\unitSS}
\newcommand{\Translabel}{\sort{Label}}
\newcommand{\translabel}{\ensuremath{\iota}}
\newcommand{\lb}{\translabel}
\newcommand{\lbID}{{\texttt{id}}}
\newcommand{\lbV}{{\texttt{VShift}}}
\newcommand{\lbF}[1]{\texttt{fork}(#1)}
\newcommand{\lbC}[1]{\texttt{cmt}(#1)}
\newcommand{\FPHeaps}{\sort{FPHeap}}
\newcommand{\fph}{\mathbf{h}}
\newcommand{\addpotvisName}{\funcn{add\_pot\_vis}}
\newcommand{\addpotvis}[1]{\func{\addpotvisName}{#1}}
\newcommand{\Events}{\Ops}
\newcommand{\flushR}{\mathbin{\vartriangleleft}}
\newcommand{\Evsets}{\Opsets}
\newcommand{\evset}{\opset}
\newcommand{\etR}{\otR}
\newcommand{\etW}{\otW}
\newcommand{\composeE}{\composeO}
\newcommand{\unitE}{\unitO}
\newcommand{\Aexecrun}{\sort{RunAbsExecs}}
\newcommand{\aexecset}{\mathcal{SX}}
\newcommand{\aexecrun}{\hat{\mathcal{X}}}
\newcommand{\prjT}{\projection{\tx}}
\newcommand{\prjI}{\projection{\setthid}}
\newcommand{\prjP}{\projection{\po}}
\newcommand{\prjV}{\projection{\vis}}
\newcommand{\prjA}{\projection{\ar}}
\newcommand{\po}{\SO}
\newcommand{\porun}{\hat{\po}}
\newcommand{\vis}{\VIS}
\newcommand{\ar}{\AR}
\newcommand{\eraseAEX}[1]{\erase[]{#1}}
\newcommand{\ordAEX}{\ord}
\newcommand{\ordAEXRUN}{\ord}
\newcommand{\composeAEX}{\compose[\aexec]}
\newcommand{\unitAEX}{\unitelem[\aexec]}
\newcommand{\composeAEXRUN}{\compose[\aexecrun]}
\newcommand{\ResolutionPolicies}{\sort{ResPos}}
\newcommand{\ResPos}{\ResolutionPolicies}
\newcommand{\respo}{\mathcal{P}}
\newcommand{\ConsistencyGuarantee}{\sort{ConGuar}}
\newcommand{\ConGuar}{\ConsistencyGuarantee}
\newcommand{\conguar}{\mathcal{F}}
\newcommand{\ConsisModels}{\ETS}
\newcommand{\evalCOM}[1]{\eval{#1}{}}
\newcommand{\ordCOM}{\ord}
\newcommand{\btmCOM}{\btm}
\newcommand{\ThreadVars}{\sort{ThdVars}}
\newcommand{\ThdVars}{\ThreadVars}
\newcommand{\TxVars}{\sort{TxVars}}
\newcommand{\ThdStacks}{\sort{ThdStks}}
\newcommand{\thdstack}{\sigma}
\newcommand{\thstk}{\thdstack}
\newcommand{\txstack}{\tau}
\newcommand{\txstk}{\txstack}
\newcommand{\thvar}{\pvar{x}}
\newcommand{\txvar}{\pvar{x}}
\newcommand{\rsName}{\funcn{rs}}
\newcommand{\rs}[1]{\func{\rsName}{#1}}
\newcommand{\newaexecName}{\funcn{new\_abs\_exec}}
\newcommand{\newaexec}[1]{\func{\newaexecName}{#1}}
\newcommand{\obsstateName}{\funcn{obs\_states}}
\newcommand{\obsstate}[1]{\func{\obsstateName}{#1}}
\newcommand{\consis}[1]{\pred{consis}[#1]}
\newcommand{\geteventName}{\funcn{get\_events}}
\newcommand{\getevent}[1]{\func{\geteventName}{#1}}
\newcommand{\TPool}{\sort{TPool}}
\newcommand{\threadpool}{\eta}
\newcommand{\thpl}{\threadpool}
\newcommand{\IntermediatePrograms}{\sort{IProg}}
\newcommand{\iprog}{\hat{\prog}}
\newcommand{\pwait}[1]{\texttt{wait}(#1)}
\newcommand{\pruntrans}[2]{%
    \left\lbrack \! \left\lbrack \begin{array}{@{}l@{}} #1%
    \end{array} \right\rbrack\!  \right\rbrack_{#2}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% All the arrows
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newextarrow{\xrightarrowtriangle}{{20}{20}{20}{20}}{{\relbar}{\relbar}{\rightarrowtriangle}}
\newcommand{\toFP}[1]{\ensuremath{\xrightarrow{#1}}}
\newcommand{\toL}{\ensuremath{\rightarrow}}
\newcommand{\toA}[1]{\ensuremath{\xrightarrow{#1}}}
\newcommand{\toT}[1]{\ensuremath{\xrightarrow{#1}}}
\newcommand{\toG}[1]{\ensuremath{\xrightarrow{#1}}}
\newcommand{\toET}[2]{\ensuremath{\xrightarrowtriangle{#1}_{#2}}}
\newcommand{\toEdge}[1]{\ensuremath{\xrightarrow{#1}}}
\newcommand{\toLTS}[1]{\xrsquigarrow{#1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Graph
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% General
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\WR}{\ensuremath{\mathsf{WR}}}
\newcommand{\RF}{\WR}
\newcommand{\WW}{\ensuremath{\mathsf{WW}}}
\newcommand{\VO}{\WW}
\newcommand{\RW}{\ensuremath{\mathsf{RW}}}
\newcommand{\AD}{\RW}
\newcommand{\AR}{\ensuremath{\mathsf{AR}}}
\newcommand{\RYW}{\ensuremath{\mathsf{RYW}}}
\newcommand{\MW}{\ensuremath{\mathsf{MW}}}
\newcommand{\MRd}{\ensuremath{\mathsf{MR}}}
\newcommand{\WFR}{\ensuremath{\mathsf{WFR}}}
\newcommand{\UA}{\ensuremath{\mathsf{UA}}}
\newcommand{\CP}{\ensuremath{\mathsf{CP}}}
\newcommand{\SER}{\ensuremath{\mathsf{SER}}}
\newcommand{\CC}{\ensuremath{\mathsf{CC}}}
\newcommand{\PSI}{\ensuremath{\mathsf{PSI}}}
\newcommand{\SI}{\ensuremath{\mathsf{SI}}}

\newcommand{\SO}{\ensuremath{\mathsf{SO}}}
\newcommand{\PO}{\SO}
\newcommand{\VIS}{\ensuremath{\mathsf{VIS}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% dependency graph
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\Dgraphs}{\ensuremath{\sort{Dgraphs}}}
\newcommand{\TtoOp}[1]{\ensuremath{\mathscr{#1}}}
\NewDocumentCommand{\graphOf}{ o }{%
\IfNoValueTF{#1}{%
    \ensuremath{\func{graphOf}}%
}{%
    \ensuremath{\func{graphOf}[#1]}%
}
}
\newcommand{\Gr}{\ensuremath{\mathcal{G}}}
\newcommand{\T}{\ensuremath{\mathcal{T}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Abstract execution
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\Aexecs}{\sort{AbsExecs}}
\newcommand{\aexec}{\mathcal{X}}
\newcommand{\Act}{\ensuremath{\sort{Act}}}
\NewDocumentCommand{\aeset}{ o }{%
\IfNoValueTF{#1}{%
    \ensuremath{\func{absExec}}%
}{%
    \ensuremath{\func{absExec}[#1]}%
}
}
\newcommand{\RP}{\ensuremath{\funcFont{RP}}}
\newcommand{\LWW}{\ensuremath{\funcFont{LWW}}}
\newcommand{\anarchicCM}{{\raisebox{-1.5pt}{\large \text{\CircledA}}}}
\newcommand{\anarchic}{\raisebox{-1.5pt}{{\small \text{\CircledA}}}}
\newcommand{\Ax}{\ensuremath{\mathcal{A}}}
\newcommand{\A}{\ensuremath{\mathsf{A}}}
\NewDocumentCommand{\cut}{ o }{%
\IfNoValueTF{#1}{%
    \ensuremath{\func{cut}}%
}{%
    \ensuremath{\func{cut}[#1]}%
}
}
\NewDocumentCommand{\nextTx}{ o }{\nextTxid[#1]}
\NewDocumentCommand{\getView}{ o }{%
\IfNoValueTF{#1}{%
    \ensuremath{\func{getView}}%
}{%
    \ensuremath{\func{getView}[#1]}%
}
}
\newcommand{\compatible}{\ensuremath{\mathop{\simeq}}}
\NewDocumentCommand{\visibleWrites}{ o }{%
\IfNoValueTF{#1}{%
    \ensuremath{\func{visibleWrites}}%
}{%
    \ensuremath{\func{visibleWrites}[#1]}%
}
}
\NewDocumentCommand{\KVtrace}{ o }{%
\IfNoValueTF{#1}{%
    \ensuremath{\func{KVtrace}}%
}{%
    \ensuremath{\func{KVtrace}[#1]}%
}
}
\NewDocumentCommand{\Ptraces}{ o }{%
\IfNoValueTF{#1}{%
    \ensuremath{\func{Ptraces}}%
}{%
    \ensuremath{\func{Ptraces}[#1]}%
}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% trace of aexec
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\tr}{\ensuremath{\tau}}
\NewDocumentCommand{\extend}{ o }{%
\IfNoValueTF{#1}{%
    \ensuremath{\func{extend}}%
}{%
    \ensuremath{\func{extend}[#1]}%
}
}
\NewDocumentCommand{\lastConf}{ o }{%
\IfNoValueTF{#1}{%
    \ensuremath{\func{lastConf}}%
}{%
    \ensuremath{\func{lastConf}[#1]}%
}
}
\newcommand{\interpr}[1]{\ensuremath{\llbracket #1 \rrbracket}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Achieve Command
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\NewDocumentCommand{\OPtraces}{ o }{\Ptraces[#1]}
\newcommand{\graphof}{\graphOf}
\newcommand{\CBef}{\ensuremath{\mathsf{CB}}}
\newcommand{\ddep}{\ensuremath{\mathsf{ddep}}}
\newcommand{\Env}{\ensuremath{\mathsf{Env}}}
\newcommand{\key}[1]{\ensuremath{\mathrm{#1}}}
\newcommand{\ClSet}{\ensuremath{\mathcal{C}}}
\newcommand{\rd}{\ensuremath{\mathsf{rd}}}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%logic
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Fingerprint Assertions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\FAst}{\sort{FAst}}
\newcommand{\fp}{\ensuremath{f}}
\newcommand{\evalF}[2][\lenv, \stk]{\llparenthesis#2\rrparenthesis_{#1}}
\newcommand{\addF}{\ensuremath{\mathbin{\vartriangleleft}}}
\newcommand{\fpto}[1]{\scalebox{0.8}{I}\!\Rightarrow\!\!#1}
\newcommand{\fpass}[1]{\fpto{\left\langle\begin{array}{@{}l@{}}#1\end{array}\right\rangle}}
\newcommand{\fpEMP}{\fpass{}}
\newcommand{\fpF}{\fpto{\fp}}
\newcommand{\fpW}{\stackrel{\otW}{\hookrightarrow}}
\newcommand{\fpR}{\stackrel{\otR}{\hookrightarrow}}
\newcommand{\fpRW}{\ensuremath{\stackrel{\otR\otW}{\hookrightarrow}}}
\newcommand{\fpI}{\ensuremath{\hookrightarrow}}
\newcommand{\fpA}{\ensuremath{\stackrel{\otA}{\hookrightarrow}}}
\newcommand{\fpD}{\ensuremath{\stackrel{\otD}{\hookrightarrow}}}
\newcommand{\fpU}{\ensuremath{\stackrel{\otU}{\hookrightarrow}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Regions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\RegionID}{\sort{RegionID}}
\newcommand{\regionid}{\ensuremath{r}}
\newcommand{\rid}{\regionid}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Capabilities
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\Kaps}{\sort{Kap}}
\newcommand{\kap}{\ensuremath{\kappa}}
\newcommand{\composeK}{\compose[\kap]}
\newcommand{\unitK}{\unitelem[\kap]}
\newcommand{\Caps}{\sort{Cap}}
\newcommand{\ca}{\ensuremath{\mathit{c}}}
\newcommand{\caset}{\ensuremath{C}}
\newcommand{\composeC}{\compose[\ca]}
\newcommand{\unitC}{\unitelem[\ca]}
\newcommand{\evalC}[2][\lenv, \stk]{\eval{#2}{#1}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Logical Expressions and assertion
%%%%%%%%%%%%%%U%%%%%%%%%%%%%%%%%%
\newcommand{\LExpr}{\sort{LExpr}}
\newcommand{\lexpr}{\V{e}}
\newcommand{\LVar}{\sort{LVar}}
\newcommand{\lvar}{\V{x}}
\newcommand{\LEnv}{\sort{LEnv}}
\newcommand{\lenv}{\ensuremath{\iota}}
\newcommand{\evalLE}[2][\lenv, \stk]{\eval{#2}{#1}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Local Assertions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\LAst}{\sort{LAst}}
\newcommand{\last}{\ensuremath{p}}
\newcommand{\lpre}{\last}
\newcommand{\lpost}{\ensuremath{q}}
\newcommand{\lframe}{\ensuremath{r}}
\newcommand{\evalLS}[2][\lenv, \stk]{\eval{#2}{#1}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Interference
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\Actions}{\sort{Action}}
\newcommand{\action}{\textnormal{a}}
\newcommand{\actionset}{\textnormal{A}}
\newcommand{\Interference}{\sort{Inter}}
\newcommand{\intf}{\ensuremath{\mathcal I}}
\newcommand{\inter}{\intf}
\newcommand{\IAst}{\sort{IAst}}
\newcommand{\intass}{\ensuremath{I}}
\newcommand{\evalI}[2][\lenv, \stk]{\eval{#2}{#1}}
\newcommand{\mat}{\ensuremath{\mathbin{@}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Shared state
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\SStates}{\sort{SState}}
\newcommand{\gs}{\ensuremath{\mathit g}}
\newcommand{\composeS}{\compose[\gs]}
\newcommand{\composeEq}{\compose[=]}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% World
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\World}{\sort{Worlds}}
\newcommand{\world}{\ensuremath{\mathit{w}}}
\newcommand{\w}{\world}
\newcommand{\wenv}{\ensuremath{\mathcal{W}}}
\newcommand{\setworld}{\ensuremath{W}}
\newcommand{\composeW}{\compose[\world]}
\newcommand{\unitW}{\unitelem[\world]}
\newcommand{\eraseW}[1]{\erase{#1}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Global Assertions and Worlds
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\PAst}{\sort{PAst}}
\newcommand{\Ast}{\PAst}
\newcommand{\gpre}{\pre}
\newcommand{\gpost}{\post}
\newcommand{\gframe}{\ensuremath{R}}
\newcommand{\boxass}[3]{%
{
    \setlength{\fboxsep}{0pt}
    \framebox{%
        \(%
        \scalebox{.9}{\(\begin{array}{@{\,}c@{\,}}#1\end{array}\)}%
        \)%
    }^{\,#2}_{\,#3}%
}
}
\newcommand{\sptboxass}[4]{%
\boxass{%
\left. \begin{array}{@{}l@{}}#1\end{array} \middle|
\begin{array}{@{}l@{}}#2\end{array} \right.
}{#3}{#4}
}
\newcommand{\lrid}{\V{r}}
\newcommand{\perm}[1]{\ensuremath{\left[#1\right]}}
\newcommand{\cass}[2]{\ensuremath{\perm{#1}^{#2}}}
\newcommand{\CAst}{\sort{CAst}}
\newcommand{\evalW}[2][\lenv, \stk]{\eval{#2}{#1}}
\newcommand{\evalAUX}[2][\lenv, \stk]{\llparenthesis#2\rrparenthesis_{#1}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% rely and guarantee
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\relyU}{\ensuremath{\rely^{u}}}
\newcommand{\relyV}{\ensuremath{\rely^{v}}}
\newcommand{\guarU}{\ensuremath{\guar^{u}}}
\newcommand{\stable}[1]{\pred{stable}[#1]}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Logic Rules
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\tripleL}[3]{%
    \tripleEnv{}{}{#1}{#2}{#3}
}
\newcommand{\tripleF}[3]{%
    \tripleEnv{}{}{#1}{#2}{#3}
}
\newcommand{\tripleG}[3]{%
    \tripleEnv{\et}{}{#1}{#2}{#3}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% repartition & stable
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\repartition}[5][\como]{ %
    #1 \vdash
    #2 %
    \Rrightarrow^{ %
       \left\{ #4 \right\}%
       \left\{ #5 \right\}%
    } #3
}
\newcommand{\rpt}[3]{
    \vdash
    #1 %
    \Rrightarrow^{ %
       #3 %
    } #2
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  Soundness
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\tripleSem}[5]{%
#1 \vDash_{#2} %
    \begin{array}{@{}l@{}} %
    \triple{#3}{#4}{#5} %
    \end{array}%
}
\newcommand{\tripleSemG}[3]{%
    \tripleSem{}{g}{#1}{#2}{#3}
}
\newcommand{\trace}{\ensuremath{\tau}}
\newcommand{\trc}{\trace}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Achieve Command
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\RelyI}{\Rely}
\newcommand{\GuarI}{\Guar}
\newcommand{\clpsW}[1]{\clps{#1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Short-hand for programs
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\va}{\pv{a}}
\newcommand{\vb}{\pv{b}}
\newcommand{\vx}{\pv{x}}
\newcommand{\vw}{\pv{w}}
\newcommand{\vvx}{\pv{vx}}
\newcommand{\vy}{\pv{y}}
\newcommand{\vvy}{\pv{vy}}
\newcommand{\vz}{\pv{z}}
\newcommand{\vtmp}{\pv{tmp}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% For COPS systems
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\Repls}{\sort{Repls}}
\newcommand{\repl}{r}
\newcommand{\viREPL}[1][\repl]{\ensuremath{\vi_{#1}}}
\NewDocumentCommand{\viCL}{O{\cl}}{\ensuremath{\vi_{#1}}}
\newcommand{\txidCOPS}[4]{\ensuremath{\txid_{(#1,#2)}^{(#3,#1,#4)}}}
\newcommand{\mkvsCOPS}{\ensuremath{\bar{\mkvs}}}
\newcommand{\viewFunCOPS}{\ensuremath{\bar{\viewFun}}}
\newcommand{\dep}{dp}
\NewDocumentCommand{\depOf}{ o }{%
\IfNoValueTF{#1}{%
    \ensuremath{\func{deps}}%
}{%
    \ensuremath{\func{deps}[#1]}%
}
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% For Clock-SI systems
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\Shards}{\sort{Shards}}
\newcommand{\sd}{r}
\newcommand{\sds}{R}
\newcommand{\ClockTimes}{\sort{ClockTimes}}
\newcommand{\ct}{c}
\newcommand{\cts}{\mathcal{C}}
\newcommand{\runtrans}[3]{\ptrans{#1}_{#2}^{#3}}


\newcommand{\todo}{{\color{red} TODO}}
\renewcommand{\implies}{\Rightarrow}
\newcommand{\com}[1]{\ensuremath{\mathsf{com}(#1)}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
